!function(a,c){function h(a){return function(c){return{}.toString.call(c)=="[object "+a+"]"}}function d(){return S++}function e(a){return a.match(P)[0]}function f(a){for(a=a.replace(z,"/");a.match(D);)a=a.replace(D,"/");return a=a.replace(N,"$1/")}function v(a){var c=a.length-1,h=a.charAt(c);return"#"===h?a.substring(0,c):".js"===a.substring(c-2)||a.indexOf("?")>0||".css"===a.substring(c-3)||"/"===h?a:a+".js"}function g(a){var c=b.alias;return c&&x(c[a])?c[a]:a}function i(a){var c,h=b.paths;return h&&(c=a.match(M))&&x(h[c[1]])&&(a=h[c[1]]+c[2]),a}function w(a){var c=b.vars;return c&&a.indexOf("{")>-1&&(a=a.replace(L,function(a,h){return x(c[h])?c[h]:a})),a}function y(a){var c=b.map,h=a;if(c)for(var d=0,e=c.length;e>d;d++){var f=c[d];if(h=C(f)?f(a)||a:a.replace(f[0],f[1]),h!==a)break}return h}function l(a,c){var h,d=a.charAt(0);if(I.test(a))h=a;else if("."===d)h=f((c?e(c):b.cwd)+a);else if("/"===d){var v=b.cwd.match($);h=v?v[0]+a.substring(1):a}else h=b.base+a;return 0===h.indexOf("//")&&(h=location.protocol+h),h}function m(a,c){if(!a)return"";a=g(a),a=i(a),a=w(a),a=v(a);var h=l(a,c);return h=y(h)}function n(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function o(a,c,h){var d=Z.test(a),e=_.createElement(d?"link":"script");if(h){var f=C(h)?h(a):h;f&&(e.charset=f)}p(e,c,d,a),d?(e.rel="stylesheet",e.href=a):(e.async=!0,e.src=a),B=e,X?H.insertBefore(e,X):H.appendChild(e),B=null}function p(a,h,d,e){function f(){a.onload=a.onerror=a.onreadystatechange=null,d||b.debug||H.removeChild(a),a=null,h()}var v="onload"in a;return!d||!Y&&v?(v?(a.onload=f,a.onerror=function(){A("error",{uri:e,node:a}),f()}):a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&f()},c):(setTimeout(function(){q(a,h)},1),c)}function q(a,c){var d,h=a.sheet;if(Y)h&&(d=!0);else if(h)try{h.cssRules&&(d=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(d=!0)}setTimeout(function(){d?c():q(a,c)},20)}function r(){if(B)return B;if(U&&"interactive"===U.readyState)return U;for(var a=H.getElementsByTagName("script"),c=a.length-1;c>=0;c--){var h=a[c];if("interactive"===h.readyState)return U=h}}function s(a){var c=[];return a.replace(V,"").replace(G,function(a,h,d){d&&c.push(d)}),c}function t(a,c){this.uri=a,this.dependencies=c||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!a.seajs){var u=a.seajs={version:"2.2.1"},b=u.data={},T=h("Object"),x=h("String"),E=Array.isArray||h("Array"),C=h("Function"),S=0,k=b.events={};u.on=function(a,c){var h=k[a]||(k[a]=[]);return h.push(c),u},u.off=function(a,c){if(!a&&!c)return k=b.events={},u;var h=k[a];if(h)if(c)for(var d=h.length-1;d>=0;d--)h[d]===c&&h.splice(d,1);else delete k[a];return u};var A=u.emit=function(a,c){var d,h=k[a];if(h)for(h=h.slice();d=h.shift();)d(c);return u},P=/[^?#]*\//,z=/\/\.\//g,D=/\/[^/]+\/\.\.\//,N=/([^:/])\/\//g,M=/^([^/:]+)(\/.+)$/,L=/{([^{]+)}/g,I=/^\/\/.|:\//,$=/^.*?\/\/.*?\//,_=document,O=e(_.URL),F=_.scripts,R=_.getElementById("seajsnode")||F[F.length-1],W=e(n(R)||O);u.resolve=m;var B,U,H=_.head||_.getElementsByTagName("head")[0]||_.documentElement,X=H.getElementsByTagName("base")[0],Z=/\.css(?:\?|$)/i,Y=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;u.request=o;var j,G=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,V=/\\\\/g,K=u.cache={},Q={},J={},te={},ee=t.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};t.prototype.resolve=function(){for(var a=this,c=a.dependencies,h=[],d=0,e=c.length;e>d;d++)h[d]=t.resolve(c[d],a.uri);return h},t.prototype.load=function(){var a=this;if(!(a.status>=ee.LOADING)){a.status=ee.LOADING;var h=a.resolve();A("load",h);for(var e,d=a._remain=h.length,f=0;d>f;f++)e=t.get(h[f]),e.status<ee.LOADED?e._waitings[a.uri]=(e._waitings[a.uri]||0)+1:a._remain--;if(0===a._remain)return a.onload(),c;var v={};for(f=0;d>f;f++)e=K[h[f]],e.status<ee.FETCHING?e.fetch(v):e.status===ee.SAVED&&e.load();for(var g in v)v.hasOwnProperty(g)&&v[g]()}},t.prototype.onload=function(){var a=this;a.status=ee.LOADED,a.callback&&a.callback();var c,d,h=a._waitings;for(c in h)h.hasOwnProperty(c)&&(d=K[c],d._remain-=h[c],0===d._remain&&d.onload());delete a._waitings,delete a._remain},t.prototype.fetch=function(a){function h(){u.request(v.requestUri,v.onRequest,v.charset)}function d(){delete Q[g],J[g]=!0,j&&(t.save(f,j),j=null);var a,c=te[g];for(delete te[g];a=c.shift();)a.load()}var e=this,f=e.uri;e.status=ee.FETCHING;var v={uri:f};A("fetch",v);var g=v.requestUri||f;return!g||J[g]?(e.load(),c):Q[g]?(te[g].push(e),c):(Q[g]=!0,te[g]=[e],A("request",v={uri:f,requestUri:g,onRequest:d,charset:b.charset}),v.requested||(a?a[v.requestUri]=h:h()),c)},t.prototype.exec=function(){function a(c){return t.get(a.resolve(c)).exec()}var h=this;if(h.status>=ee.EXECUTING)return h.exports;h.status=ee.EXECUTING;var e=h.uri;a.resolve=function(a){return t.resolve(a,e)},a.async=function(c,h){return t.use(c,h,e+"_async_"+d()),a};var f=h.factory,v=C(f)?f(a,h.exports={},h):f;return v===c&&(v=h.exports),delete h.factory,h.exports=v,h.status=ee.EXECUTED,A("exec",h),v},t.resolve=function(a,c){var h={id:a,refUri:c};return A("resolve",h),h.uri||u.resolve(h.id,c)},t.define=function(a,h,d){var e=arguments.length;1===e?(d=a,a=c):2===e&&(d=h,E(a)?(h=a,a=c):h=c),!E(h)&&C(d)&&(h=s(""+d));var f={id:a,uri:t.resolve(a),deps:h,factory:d};if(!f.uri&&_.attachEvent){var v=r();v&&(f.uri=v.src)}A("define",f),f.uri?t.save(f.uri,f):j=f},t.save=function(a,c){var h=t.get(a);h.status<ee.SAVED&&(h.id=c.id||a,h.dependencies=c.deps||[],h.factory=c.factory,h.status=ee.SAVED)},t.get=function(a,c){return K[a]||(K[a]=new t(a,c))},t.use=function(c,h,d){var e=t.get(d,E(c)?c:[c]);e.callback=function(){for(var c=[],d=e.resolve(),f=0,v=d.length;v>f;f++)c[f]=K[d[f]].exec();h&&h.apply(a,c),delete e.callback},e.load()},t.preload=function(a){var c=b.preload,h=c.length;h?t.use(c,function(){c.splice(0,h),t.preload(a)},b.cwd+"_preload_"+d()):a()},u.use=function(a,c){return t.preload(function(){t.use(a,c,b.cwd+"_use_"+d())}),u},t.define.cmd={},a.define=t.define,u.Module=t,b.fetchedList=J,b.cid=d,u.require=function(a){var c=t.get(t.resolve(a));return c.status<ee.EXECUTING&&(c.onload(),c.exec()),c.exports};var ie=/^(.+?\/)(\?\?)?(seajs\/)+/;b.base=(W.match(ie)||["",W])[1],b.dir=W,b.cwd=O,b.charset="utf-8",b.preload=function(){var a=[],c=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return c+=" "+_.cookie,c.replace(/(seajs-\w+)=1/g,function(c,h){a.push(h)}),a}(),u.config=function(a){for(var c in a){var h=a[c],d=b[c];if(d&&T(d))for(var e in h)d[e]=h[e];else E(d)?h=d.concat(h):"base"===c&&("/"!==h.slice(-1)&&(h+="/"),h=l(h)),b[c]=h}return A("config",a),u}}}(this),define("core",["zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a){return a=c(a),!(!a.width()&&!a.height())&&"none"!==a.css("display")}require("zepto.extend.fx"),require("zepto.extend.data"),require("zepto.extend.selector");var c=window.Zepto,h=c.AMUI||{},v=c(window),g=window.document,w=require("util.fastclick"),y=c("html");h.support={},h.support.transition=function(){var a=function(){var a,c=g.body||g.documentElement,h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in h)if(void 0!==c.style[a])return h[a]}();return a&&{end:a}}(),h.support.animation=function(){var a=function(){var a,c=g.body||g.documentElement,h={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(a in h)if(void 0!==c.style[a])return h[a]}();return a&&{end:a}}(),h.support.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},h.support.touch="ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,h.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null,h.utils={},h.utils.debounce=function(a,c,h){var v;return function(){var g=this,w=arguments,y=function(){v=null,h||a.apply(g,w)},b=h&&!v;clearTimeout(v),v=setTimeout(y,c),b&&a.apply(g,w)}},h.utils.isInView=function(a,h){var g=c(a),w=!(!g.width()&&!g.height())&&"none"!==g.css("display");if(!w)return!1;var y=v.scrollLeft(),b=v.scrollTop(),T=g.offset(),E=T.left,C=T.top;return h=c.extend({topOffset:0,leftOffset:0},h),C+g.height()>=b&&C-h.topOffset<=b+v.height()&&E+g.width()>=y&&E-h.leftOffset<=y+v.width()},h.utils.parseOptions=h.utils.options=function(a){if(c.isPlainObject(a))return a;var h=a?a.indexOf("{"):-1,v={};if(-1!=h)try{v=new Function("","var json = "+a.substr(h)+"; return JSON.parse(JSON.stringify(json));")()}catch(e){}return v},h.utils.generateGUID=function(a){var c=a+"-"||"am-";do c+=Math.random().toString(36).substring(2,7);while(document.getElementById(c));return c},c.fn.emulateTransitionEnd=function(a){var v=!1,g=this;c(this).one(h.support.transition.end,function(){v=!0});var w=function(){v||c(g).trigger(h.support.transition.end),g.transitionEndTimmer=void 0};return this.transitionEndTimmer=setTimeout(w,a),this},c.fn.redraw=function(){return c(this).each(function(){this.offsetHeight}),this},c.fn.transitionEnd=function(a){function c(e){a.call(this,e),v&&g.off(v,c)}var v=h.support.transition.end,g=this;return a&&v&&g.on(v,c),this},c.fn.removeClassRegEx=function(){return this.each(function(a){var h=c(this).attr("class");if(!h||!a)return!1;var v=[];h=h.split(" ");for(var i=0,g=h.length;g>i;i++)h[i].match(a)||v.push(h[i]);c(this).attr("class",v.join(" "))})},c.fn.alterClass=function(a,h){var v=this;if(-1===a.indexOf("*"))return v.removeClass(a),h?v.addClass(h):v;var g=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return v.each(function(i,a){for(var h=" "+a.className+" ";g.test(h);)h=h.replace(g," ");a.className=c.trim(h)}),h?v.addClass(h):v},c.fn.getHeight=function(){var a=c(this),h="auto";if(a.is(":visible"))h=a.height();else{var v={position:a.css("position"),visibility:a.css("visibility"),display:a.css("display")};h=a.css({position:"absolute",visibility:"hidden",display:"block"}).height(),a.css(v)}return h},c.fn.getSize=function(){var a=c(this);if("none"!==a.css("display"))return{width:a.width(),height:a.height()};var h,v,g={position:a.css("position"),visibility:a.css("visibility"),display:a.css("display")},w={display:"block",position:"absolute",visibility:"hidden"};return a.css(w),h=a.width(),v=a.height(),a.css(g),{width:h,height:v}};var b=c.fn.is,T=c.fn.filter;c.fn.is=function(c){return":visible"===c?a(this):":hidden"===c?!a(this):b.call(this,c)},c.fn.filter=function(h){return":visible"===h?c([].filter.call(this,a)):":hidden"===h?c([].filter.call(this,function(c){return!a(c)})):T.call(this,h)},h.utils.rAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),h.utils.cancelAF=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(a){window.clearTimeout(a)}}(),h.utils.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var a=c('<div style="width: 100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;"></div>');c(document.body).append(a);var h=a[0].offsetWidth-a[0].clientWidth;return a.remove(),h},h.utils.imageLoader=function(a,c){function h(){c(a[0])}function v(){if(this.one("load",h),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),c=a.match(/\?/)?"&":"?";c+="random="+(new Date).getTime(),this.attr("src",a+c)}}return a.attr("src")?void(a[0].complete||4===a[0].readyState?h():v.call(a)):void h()},h.template=function(a,c){var v=h.template;return v.cache[a]||(v.cache[a]=function(){var c=a,h=/^[\w\-]+$/.test(a)?v.get(a):(c="template(string)",a),g=1,w=("try { "+(v.variable?"var "+v.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+h.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n/g,function(){return"';\nthis.line = "+ ++g+"; this.ret += '\\n"}).replace(/\x11-(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(v.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+c+"' + ' line ' + this.line + ')'; } //@ sourceURL="+c+"\n").replace(/this\.ret \+= '';/g,""),y=new Function(w),b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},T=function(a){return(""+a).replace(/[&<>\'\"]/g,function(a){return b[a]})};return function(a){return y.call(v.context={escapeHTML:T,line:1,ret:"",stash:a})}}()),c?v.cache[a](c):v.cache[a]},h.template.cache={},h.template.get=function(a){if(a){var c=document.getElementById(a);return c&&c.innerHTML||""}},h.support.touch&&(y.addClass("am-touch"),c(function(){w.attach(document.body)})),c(function(){var a=c("body");c(document).trigger("domready:amui"),y.removeClass("no-js").addClass("js"),h.support.animation&&y.addClass("cssanimations"),window.navigator.standalone&&y.addClass("am-standalone"),c(".am-topbar-fixed-top").length&&a.addClass("am-with-topbar-fixed-top"),c(".am-topbar-fixed-bottom").length&&a.addClass("am-with-topbar-fixed-bottom");var v=c(".am-layout");v.find('[class*="md-block-grid"]').alterClass("md-block-grid-*"),v.find('[class*="lg-block-grid"]').alterClass("lg-block-grid"),c("[data-am-widget]").each(function(){var a=c(this);0===a.parents(".am-layout").length&&a.addClass("am-no-layout")})}),c.AMUI=h,module.exports=h}),define("util.fastclick",[],function(require,exports,module){"use strict";function a(h,v){function g(a,c){return function(){return a.apply(c,arguments)}}var w;if(v=v||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=v.touchBoundary||10,this.layer=h,this.tapDelay=v.tapDelay||200,!a.notNeeded(h)){for(var y=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],b=this,i=0,l=y.length;l>i;i++)b[y[i]]=g(b[y[i]],b);c&&(h.addEventListener("mouseover",this.onMouse,!0),h.addEventListener("mousedown",this.onMouse,!0),h.addEventListener("mouseup",this.onMouse,!0)),h.addEventListener("click",this.onClick,!0),h.addEventListener("touchstart",this.onTouchStart,!1),h.addEventListener("touchmove",this.onTouchMove,!1),h.addEventListener("touchend",this.onTouchEnd,!1),h.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(h.removeEventListener=function(a,c,v){var g=Node.prototype.removeEventListener;"click"===a?g.call(h,a,c.hijacked||c,v):g.call(h,a,c,v)},h.addEventListener=function(a,c,v){var g=Node.prototype.addEventListener;"click"===a?g.call(h,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),v):g.call(h,a,c,v)}),"function"==typeof h.onclick&&(w=h.onclick,h.addEventListener("click",function(a){w(a)},!1),h.onclick=null)}}var c=(window.Zepto,navigator.userAgent.indexOf("Android")>0),h=/iP(ad|hone|od)/.test(navigator.userAgent),v=h&&/OS 4_\d(_\d)?/.test(navigator.userAgent),g=h&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),w=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(h&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,c){var h,v;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),v=c.changedTouches[0],h=document.createEvent("MouseEvents"),h.initMouseEvent(this.determineEventType(a),!0,!0,window,1,v.screenX,v.screenY,v.clientX,v.clientY,!1,!1,!1,!1,0,null),h.forwardedTouchEvent=!0,a.dispatchEvent(h)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var c;h&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type?(c=a.value.length,a.setSelectionRange(c,c)):a.focus()},a.prototype.updateScrollParent=function(a){var c,h;if(c=a.fastClickScrollParent,!c||!c.contains(a)){h=a;do{if(h.scrollHeight>h.offsetHeight){c=h,a.fastClickScrollParent=h;break}h=h.parentElement}while(h)}c&&(c.fastClickLastScrollTop=c.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var c,g,w;if(a.targetTouches.length>1)return!0;if(c=this.getTargetElementFromEventTarget(a.target),g=a.targetTouches[0],h){if(w=window.getSelection(),w.rangeCount&&!w.isCollapsed)return!0;if(!v){if(g.identifier&&g.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=g.identifier,this.updateScrollParent(c)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=c,this.touchStartX=g.pageX,this.touchStartY=g.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var c=a.changedTouches[0],h=this.touchBoundary;return Math.abs(c.pageX-this.touchStartX)>h||Math.abs(c.pageY-this.touchStartY)>h?!0:!1},a.prototype.onTouchMove=function(a){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var w,y,b,T,E,C=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,y=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,g&&(E=a.changedTouches[0],C=document.elementFromPoint(E.pageX-window.pageXOffset,E.pageY-window.pageYOffset)||C,C.fastClickScrollParent=this.targetElement.fastClickScrollParent),b=C.tagName.toLowerCase(),"label"===b){if(w=this.findControl(C)){if(this.focus(C),c)return!1;C=w}}else if(this.needsFocus(C))return a.timeStamp-y>100||h&&window.top!==window&&"input"===b?(this.targetElement=null,!1):(this.focus(C),this.sendClick(C,a),h&&"select"===b||(this.targetElement=null,a.preventDefault()),!1);return h&&!v&&(T=C.fastClickScrollParent,T&&T.fastClickLastScrollTop!==T.scrollTop)?!0:(this.needsClick(C)||(a.preventDefault(),this.sendClick(C,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},a.prototype.onClick=function(a){var c;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(c=this.onMouse(a),c||(this.targetElement=null),c)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var h,v,g;if("undefined"==typeof window.ontouchstart)return!0;if(v=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(h=document.querySelector("meta[name=viewport]")){if(-1!==h.content.indexOf("user-scalable=no"))return!0;if(v>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(w&&(g=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),g[1]>=10&&g[2]>=3&&(h=document.querySelector("meta[name=viewport]")))){if(-1!==h.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction?!0:!1},a.attach=function(c,h){return new a(c,h)},module.exports=a}),define("util.hammer",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a,c,h){return setTimeout(y(a,h),c)}function c(a,c,v){return Array.isArray(a)?(h(a,v[c],v),!0):!1}function h(a,c,h){var i;if(a)if(a.forEach)a.forEach(c,h);else if(void 0!==a.length)for(i=0;i<a.length;)c.call(h,a[i],i,a),i++;else for(i in a)a.hasOwnProperty(i)&&c.call(h,a[i],i,a)}function v(a,c,h){for(var v=Object.keys(c),i=0;i<v.length;)(!h||h&&void 0===a[v[i]])&&(a[v[i]]=c[v[i]]),i++;return a}function g(a,c){return v(a,c,!0)}function w(a,c,h){var g,w=c.prototype;g=a.prototype=Object.create(w),g.constructor=a,g._super=w,h&&v(g,h)}function y(a,c){return function(){return a.apply(c,arguments)}}function b(a,c){return typeof a==Se?a.apply(c?c[0]||void 0:void 0,c):a}function T(a,c){return void 0===a?c:a}function E(a,c,v){h(A(c),function(c){a.addEventListener(c,v,!1)})}function C(a,c,v){h(A(c),function(c){a.removeEventListener(c,v,!1)})}function S(a,c){for(;a;){if(a==c)return!0;a=a.parentNode}return!1}function k(a,c){return a.indexOf(c)>-1}function A(a){return a.trim().split(/\s+/g)}function P(a,c,h){if(a.indexOf&&!h)return a.indexOf(c);for(var i=0;i<a.length;){if(h&&a[i][h]==c||!h&&a[i]===c)return i;i++}return-1}function z(a){return Array.prototype.slice.call(a,0)}function D(a,c,h){for(var v=[],g=[],i=0;i<a.length;){var w=c?a[i][c]:a[i];P(g,w)<0&&v.push(a[i]),g[i]=w,i++}return h&&(v=c?v.sort(function(a,h){return a[c]>h[c]}):v.sort()),v}function N(a,c){for(var h,v,g=c[0].toUpperCase()+c.slice(1),i=0;i<Ee.length;){if(h=Ee[i],v=h?h+g:c,v in a)return v;i++}return void 0}function M(){return ze++}function L(a){var c=a.ownerDocument;return c.defaultView||c.parentWindow}function I(a,c){var h=this;this.manager=a,this.callback=c,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(c){b(a.options.enable,[a])&&h.handler(c)},this.init()}function $(a){var c,h=a.options.inputClass;return new(c=h?h:Me?V:Le?K:Ne?J:G)(a,_)}function _(a,c,h){var v=h.pointers.length,g=h.changedPointers.length,w=c&qe&&v-g===0,y=c&(We|Be)&&v-g===0;h.isFirst=!!w,h.isFinal=!!y,w&&(a.session={}),h.eventType=c,O(a,h),a.emit("hammer.input",h),a.recognize(h),a.session.prevInput=h}function O(a,c){var h=a.session,v=c.pointers,g=v.length;h.firstInput||(h.firstInput=W(c)),g>1&&!h.firstMultiple?h.firstMultiple=W(c):1===g&&(h.firstMultiple=!1);var w=h.firstInput,y=h.firstMultiple,b=y?y.center:w.center,T=c.center=B(v);c.timeStamp=Pe(),c.deltaTime=c.timeStamp-w.timeStamp,c.angle=Z(b,T),c.distance=X(b,T),F(h,c),c.offsetDirection=H(c.deltaX,c.deltaY),c.scale=y?j(y.pointers,v):1,c.rotation=y?Y(y.pointers,v):0,R(h,c);var E=a.element;S(c.srcEvent.target,E)&&(E=c.srcEvent.target),c.target=E}function F(a,c){var h=c.center,v=a.offsetDelta||{},g=a.prevDelta||{},w=a.prevInput||{};(c.eventType===qe||w.eventType===We)&&(g=a.prevDelta={x:w.deltaX||0,y:w.deltaY||0},v=a.offsetDelta={x:h.x,y:h.y}),c.deltaX=g.x+(h.x-v.x),c.deltaY=g.y+(h.y-v.y)}function R(a,c){var h,v,g,w,y=a.lastInterval||c,b=c.timeStamp-y.timeStamp;if(c.eventType!=Be&&(b>Fe||void 0===y.velocity)){var T=y.deltaX-c.deltaX,E=y.deltaY-c.deltaY,C=U(b,T,E);v=C.x,g=C.y,h=Ae(C.x)>Ae(C.y)?C.x:C.y,w=H(T,E),a.lastInterval=c}else h=y.velocity,v=y.velocityX,g=y.velocityY,w=y.direction;c.velocity=h,c.velocityX=v,c.velocityY=g,c.direction=w}function W(a){for(var c=[],i=0;i<a.pointers.length;)c[i]={clientX:ke(a.pointers[i].clientX),clientY:ke(a.pointers[i].clientY)},i++;return{timeStamp:Pe(),pointers:c,center:B(c),deltaX:a.deltaX,deltaY:a.deltaY}}function B(a){var c=a.length;if(1===c)return{x:ke(a[0].clientX),y:ke(a[0].clientY)};for(var x=0,h=0,i=0;c>i;)x+=a[i].clientX,h+=a[i].clientY,i++;return{x:ke(x/c),y:ke(h/c)}}function U(a,x,c){return{x:x/a||0,y:c/a||0}}function H(x,a){return x===a?Ue:Ae(x)>=Ae(a)?x>0?He:Xe:a>0?Ze:Ye}function X(a,c,h){h||(h=Ke);var x=c[h[0]]-a[h[0]],v=c[h[1]]-a[h[1]];return Math.sqrt(x*x+v*v)}function Z(a,c,h){h||(h=Ke);var x=c[h[0]]-a[h[0]],v=c[h[1]]-a[h[1]];return 180*Math.atan2(v,x)/Math.PI}function Y(a,c){return Z(c[1],c[0],Qe)-Z(a[1],a[0],Qe)}function j(a,c){return X(c[0],c[1],Qe)/X(a[0],a[1],Qe)}function G(){this.evEl=ti,this.evWin=ei,this.allow=!0,this.pressed=!1,I.apply(this,arguments)}function V(){this.evEl=oi,this.evWin=si,I.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function K(){this.evTarget=ri,this.targetIds={},I.apply(this,arguments)}function Q(a,c){var h=z(a.touches),v=this.targetIds;if(c&(qe|Re)&&1===h.length)return v[h[0].identifier]=!0,[h,h];var i,g=z(a.targetTouches),w=z(a.changedTouches),y=[];if(c===qe)for(i=0;i<g.length;)v[g[i].identifier]=!0,i++;for(i=0;i<w.length;)v[w[i].identifier]&&y.push(w[i]),c&(We|Be)&&delete v[w[i].identifier],i++;return y.length?[D(g.concat(y),"identifier",!0),y]:void 0}function J(){I.apply(this,arguments);var a=y(this.handler,this);this.touch=new K(this.manager,a),this.mouse=new G(this.manager,a)}function te(a,c){this.manager=a,this.set(c)}function ee(a){if(k(a,mi))return mi;var c=k(a,vi),h=k(a,gi);return c&&h?vi+" "+gi:c||h?c?vi:gi:k(a,pi)?pi:di}function ie(a){this.id=M(),this.manager=null,this.options=g(a||{},this.defaults),this.options.enable=T(this.options.enable,!0),this.state=wi,this.simultaneous={},this.requireFail=[]}function oe(a){return a&Ei?"cancel":a&Ti?"end":a&bi?"move":a&yi?"start":""}function se(a){return a==Ye?"down":a==Ze?"up":a==He?"left":a==Xe?"right":""}function ae(a,c){var h=c.manager;return h?h.get(a):a}function ce(){ie.apply(this,arguments)}function ue(){ce.apply(this,arguments),this.pX=null,this.pY=null}function he(){ce.apply(this,arguments)}function pe(){ie.apply(this,arguments),this._timer=null,this._input=null}function me(){ce.apply(this,arguments)}function fe(){ce.apply(this,arguments)}function ve(){ie.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ge(a,c){return c=c||{},c.recognizers=T(c.recognizers,ge.defaults.preset),new we(a,c)}function we(a,c){c=c||{},this.options=g(c,ge.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=$(this),this.touchAction=new te(this,this.options.touchAction),ye(this,!0),h(c.recognizers,function(a){var c=this.add(new a[0](a[1]));a[2]&&c.recognizeWith(a[2]),a[3]&&c.requireFailure(a[3])},this)}function ye(a,c){var v=a.element;h(a.options.cssProps,function(a,h){v.style[N(v.style,h)]=c?a:""})}function be(a,c){var h=document.createEvent("Event");h.initEvent(a,!0,!0),h.gesture=c,c.target.dispatchEvent(h)}function Te(a,c){var h=xe(a);h.data("hammer")||h.data("hammer",new ge(h[0],c))}require("core");var xe=window.Zepto,Ee=(xe.AMUI,["","webkit","moz","MS","ms","o"]),Ce=document.createElement("div"),Se="function",ke=Math.round,Ae=Math.abs,Pe=Date.now,ze=1,De=/mobile|tablet|ip(ad|hone|od)|android/i,Ne="ontouchstart"in window,Me=void 0!==N(window,"PointerEvent"),Le=Ne&&De.test(navigator.userAgent),Ie="touch",$e="pen",_e="mouse",Oe="kinect",Fe=25,qe=1,Re=2,We=4,Be=8,Ue=1,He=2,Xe=4,Ze=8,Ye=16,je=He|Xe,Ge=Ze|Ye,Ve=je|Ge,Ke=["x","y"],Qe=["clientX","clientY"];I.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(L(this.element),this.evWin,this.domHandler)}};var Je={mousedown:qe,mousemove:Re,mouseup:We},ti="mousedown",ei="mousemove mouseup";w(G,I,{handler:function(a){var c=Je[a.type];c&qe&&0===a.button&&(this.pressed=!0),c&Re&&1!==a.which&&(c=We),this.pressed&&this.allow&&(c&We&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[a],changedPointers:[a],pointerType:_e,srcEvent:a}))}});var ii={pointerdown:qe,pointermove:Re,pointerup:We,pointercancel:Be,pointerout:Be},ni={2:Ie,3:$e,4:_e,5:Oe},oi="pointerdown",si="pointermove pointerup pointercancel";window.MSPointerEvent&&(oi="MSPointerDown",si="MSPointerMove MSPointerUp MSPointerCancel"),w(V,I,{handler:function(a){var c=this.store,h=!1,v=a.type.toLowerCase().replace("ms",""),g=ii[v],w=ni[a.pointerType]||a.pointerType,y=w==Ie;g&qe&&(0===a.button||y)?c.push(a):g&(We|Be)&&(h=!0);var b=P(c,a.pointerId,"pointerId");0>b||(c[b]=a,this.callback(this.manager,g,{pointers:c,changedPointers:[a],pointerType:w,srcEvent:a}),h&&c.splice(b,1))}});var ai={touchstart:qe,touchmove:Re,touchend:We,touchcancel:Be},ri="touchstart touchmove touchend touchcancel";w(K,I,{handler:function(a){var c=ai[a.type],h=Q.call(this,a,c);h&&this.callback(this.manager,c,{pointers:h[0],changedPointers:h[1],pointerType:Ie,srcEvent:a})}}),w(J,I,{handler:function(a,c,h){var v=h.pointerType==Ie,g=h.pointerType==_e;if(v)this.mouse.allow=!1;else if(g&&!this.mouse.allow)return;c&(We|Be)&&(this.mouse.allow=!0),this.callback(a,c,h)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var li=N(Ce.style,"touchAction"),ci=void 0!==li,hi="compute",di="auto",pi="manipulation",mi="none",vi="pan-x",gi="pan-y";te.prototype={set:function(a){a==hi&&(a=this.compute()),ci&&(this.manager.element.style[li]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return h(this.manager.recognizers,function(c){b(c.options.enable,[c])&&(a=a.concat(c.getTouchAction()))}),ee(a.join(" "))},preventDefaults:function(a){if(!ci){var c=a.srcEvent,h=a.offsetDirection;if(this.manager.session.prevented)return void c.preventDefault();var v=this.actions,g=k(v,mi),w=k(v,gi),y=k(v,vi);return g||w&&h&je||y&&h&Ge?this.preventSrc(c):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var wi=1,yi=2,bi=4,Ti=8,xi=Ti,Ei=16,Ci=32;ie.prototype={defaults:{},set:function(a){return v(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(c(a,"recognizeWith",this))return this;var h=this.simultaneous;return a=ae(a,this),h[a.id]||(h[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return c(a,"dropRecognizeWith",this)?this:(a=ae(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(c(a,"requireFailure",this))return this;var h=this.requireFail;return a=ae(a,this),-1===P(h,a)&&(h.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(c(a,"dropRequireFailure",this))return this;a=ae(a,this);var h=P(this.requireFail,a);return h>-1&&this.requireFail.splice(h,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]
},emit:function(a){function c(c){h.manager.emit(h.options.event+(c?oe(v):""),a)}var h=this,v=this.state;Ti>v&&c(!0),c(),v>=Ti&&c(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=Ci)},canEmit:function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(Ci|wi)))return!1;i++}return!0},recognize:function(a){var c=v({},a);return b(this.options.enable,[this,c])?(this.state&(xi|Ei|Ci)&&(this.state=wi),this.state=this.process(c),void(this.state&(yi|bi|Ti|Ei)&&this.tryEmit(c))):(this.reset(),void(this.state=Ci))},process:function(){},getTouchAction:function(){},reset:function(){}},w(ce,ie,{defaults:{pointers:1},attrTest:function(a){var c=this.options.pointers;return 0===c||a.pointers.length===c},process:function(a){var c=this.state,h=a.eventType,v=c&(yi|bi),g=this.attrTest(a);return v&&(h&Be||!g)?c|Ei:v||g?h&We?c|Ti:c&yi?c|bi:yi:Ci}}),w(ue,ce,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ve},getTouchAction:function(){var a=this.options.direction,c=[];return a&je&&c.push(gi),a&Ge&&c.push(vi),c},directionTest:function(a){var c=this.options,h=!0,v=a.distance,g=a.direction,x=a.deltaX,w=a.deltaY;return g&c.direction||(c.direction&je?(g=0===x?Ue:0>x?He:Xe,h=x!=this.pX,v=Math.abs(a.deltaX)):(g=0===w?Ue:0>w?Ze:Ye,h=w!=this.pY,v=Math.abs(a.deltaY))),a.direction=g,h&&v>c.threshold&&g&c.direction},attrTest:function(a){return ce.prototype.attrTest.call(this,a)&&(this.state&yi||!(this.state&yi)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var c=se(a.direction);c&&this.manager.emit(this.options.event+c,a),this._super.emit.call(this,a)}}),w(he,ce,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[mi]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&yi)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var c=a.scale<1?"in":"out";this.manager.emit(this.options.event+c,a)}}}),w(pe,ie,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[di]},process:function(c){var h=this.options,v=c.pointers.length===h.pointers,g=c.distance<h.threshold,w=c.deltaTime>h.time;if(this._input=c,!g||!v||c.eventType&(We|Be)&&!w)this.reset();else if(c.eventType&qe)this.reset(),this._timer=a(function(){this.state=xi,this.tryEmit()},h.time,this);else if(c.eventType&We)return xi;return Ci},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===xi&&(a&&a.eventType&We?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=Pe(),this.manager.emit(this.options.event,this._input)))}}),w(me,ce,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[mi]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&yi)}}),w(fe,ce,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:je|Ge,pointers:1},getTouchAction:function(){return ue.prototype.getTouchAction.call(this)},attrTest:function(a){var c,h=this.options.direction;return h&(je|Ge)?c=a.velocity:h&je?c=a.velocityX:h&Ge&&(c=a.velocityY),this._super.attrTest.call(this,a)&&h&a.direction&&a.distance>this.options.threshold&&Ae(c)>this.options.velocity&&a.eventType&We},emit:function(a){var c=se(a.direction);c&&this.manager.emit(this.options.event+c,a),this.manager.emit(this.options.event,a)}}),w(ve,ie,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[pi]},process:function(c){var h=this.options,v=c.pointers.length===h.pointers,g=c.distance<h.threshold,w=c.deltaTime<h.time;if(this.reset(),c.eventType&qe&&0===this.count)return this.failTimeout();if(g&&w&&v){if(c.eventType!=We)return this.failTimeout();var y=this.pTime?c.timeStamp-this.pTime<h.interval:!0,b=!this.pCenter||X(this.pCenter,c.center)<h.posThreshold;this.pTime=c.timeStamp,this.pCenter=c.center,b&&y?this.count+=1:this.count=1,this._input=c;var T=this.count%h.taps;if(0===T)return this.hasRequireFailures()?(this._timer=a(function(){this.state=xi,this.tryEmit()},h.interval,this),yi):xi}return Ci},failTimeout:function(){return this._timer=a(function(){this.state=Ci},this.options.interval,this),Ci},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==xi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ge.VERSION="2.0.3",ge.defaults={domEvents:!1,touchAction:hi,enable:!0,inputTarget:null,inputClass:null,preset:[[me,{enable:!1}],[he,{enable:!1},["rotate"]],[fe,{direction:je}],[ue,{direction:je},["swipe"]],[ve],[ve,{event:"doubletap",taps:2},["tap"]],[pe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Si=1,ki=2;we.prototype={set:function(a){return v(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?ki:Si},recognize:function(a){var c=this.session;if(!c.stopped){this.touchAction.preventDefaults(a);var h,v=this.recognizers,g=c.curRecognizer;(!g||g&&g.state&xi)&&(g=c.curRecognizer=null);for(var i=0;i<v.length;)h=v[i],c.stopped===ki||g&&h!=g&&!h.canRecognizeWith(g)?h.reset():h.recognize(a),!g&&h.state&(yi|bi|Ti)&&(g=c.curRecognizer=h),i++}},get:function(a){if(a instanceof ie)return a;for(var c=this.recognizers,i=0;i<c.length;i++)if(c[i].options.event==a)return c[i];return null},add:function(a){if(c(a,"add",this))return this;var h=this.get(a.options.event);return h&&this.remove(h),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(c(a,"remove",this))return this;var h=this.recognizers;return a=this.get(a),h.splice(P(h,a),1),this.touchAction.update(),this},on:function(a,c){var v=this.handlers;return h(A(a),function(a){v[a]=v[a]||[],v[a].push(c)}),this},off:function(a,c){var v=this.handlers;return h(A(a),function(a){c?v[a].splice(P(v[a],c),1):delete v[a]}),this},emit:function(a,c){this.options.domEvents&&be(a,c);var h=this.handlers[a]&&this.handlers[a].slice();if(h&&h.length){c.type=a,c.preventDefault=function(){c.srcEvent.preventDefault()};for(var i=0;i<h.length;)h[i](c),i++}},destroy:function(){this.element&&ye(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},v(ge,{INPUT_START:qe,INPUT_MOVE:Re,INPUT_END:We,INPUT_CANCEL:Be,STATE_POSSIBLE:wi,STATE_BEGAN:yi,STATE_CHANGED:bi,STATE_ENDED:Ti,STATE_RECOGNIZED:xi,STATE_CANCELLED:Ei,STATE_FAILED:Ci,DIRECTION_NONE:Ue,DIRECTION_LEFT:He,DIRECTION_RIGHT:Xe,DIRECTION_UP:Ze,DIRECTION_DOWN:Ye,DIRECTION_HORIZONTAL:je,DIRECTION_VERTICAL:Ge,DIRECTION_ALL:Ve,Manager:we,Input:I,TouchAction:te,TouchInput:K,MouseInput:G,PointerEventInput:V,TouchMouseInput:J,Recognizer:ie,AttrRecognizer:ce,Tap:ve,Pan:ue,Swipe:fe,Pinch:he,Rotate:me,Press:pe,on:E,off:C,each:h,merge:g,extend:v,inherit:w,bindFn:y,prefixed:N}),module.exports=ge,ge.Manager.prototype.emit=function(a){return function(c,h){a.call(this,c,h),xe(this.element).trigger({type:c,gesture:h})}}(ge.Manager.prototype.emit),xe.fn.hammer=function(a){return this.each(function(){Te(this,a)})}}),define("zepto.outerdemension",[],function(){var a=window.Zepto;["width","height"].forEach(function(c){var h=c.replace(/./,function(m){return m[0].toUpperCase()});a.fn["outer"+h]=function(a){var h=this;if(h){var v=h[c](),g={width:["left","right"],height:["top","bottom"]};return g[c].forEach(function(c){a&&(v+=parseInt(h.css("margin-"+c),10))}),v}return null}})}),define("zepto.extend.data",[],function(){function a(a,h){var b=a[exp],T=b&&g[b];if(void 0===h)return T||c(a);if(T){if(h in T)return T[h];var E=y(h);if(E in T)return T[E]}return w.call(v(a),h)}function c(a,c,w){var b=a[exp]||(a[exp]=++v.uuid),T=g[b]||(g[b]=h(a));return void 0!==c&&(T[y(c)]=w),T}function h(a){var c={};return v.each(a.attributes||b,function(i,a){0==a.name.indexOf("data-")&&(c[y(a.name.replace("data-",""))]=v.zepto.deserializeValue(a.value))}),c}var v=window.Zepto,g={},w=v.fn.data,y=v.camelCase,exp=v.expando="Zepto"+ +new Date,b=[];v.fn.data=function(h,g){return void 0===g?v.isPlainObject(h)?this.each(function(i,a){v.each(h,function(h,v){c(a,h,v)})}):0 in this?a(this[0],h):void 0:this.each(function(){c(this,h,g)})},v.fn.removeData=function(a){return"string"==typeof a&&(a=a.split(/\s+/)),this.each(function(){var c=this[exp],h=c&&g[c];h&&v.each(a||h,function(c){delete h[a?y(this):c]})})},["remove","empty"].forEach(function(a){var c=v.fn[a];v.fn[a]=function(){var h=this.find("*");return"remove"===a&&(h=h.add(this)),h.removeData(),c.call(this)}})}),define("zepto.extend.fx",[],function(){function a(a){return a.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function c(a){return h?h+a:a.toLowerCase()}var h,v,g,w,y,b,T,E,C,S,k=window.Zepto,A="",P={Webkit:"webkit",Moz:"",O:"o"},z=window.document,D=z.createElement("div"),N=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,M={};k.each(P,function(a,c){return void 0!==D.style[a+"TransitionProperty"]?(A="-"+a.toLowerCase()+"-",h=c,!1):void 0}),v=A+"transform",M[g=A+"transition-property"]=M[w=A+"transition-duration"]=M[b=A+"transition-delay"]=M[y=A+"transition-timing-function"]=M[T=A+"animation-name"]=M[E=A+"animation-duration"]=M[S=A+"animation-delay"]=M[C=A+"animation-timing-function"]="",k.fx={off:void 0===h&&void 0===D.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:A,transitionEnd:c("TransitionEnd"),animationEnd:c("AnimationEnd")},k.fn.animate=function(a,c,h,v,g){return k.isFunction(c)&&(v=c,h=void 0,c=void 0),k.isFunction(h)&&(v=h,h=void 0),k.isPlainObject(c)&&(h=c.easing,v=c.complete,g=c.delay,c=c.duration),c&&(c=("number"==typeof c?c:k.fx.speeds[c]||k.fx.speeds._default)/1e3),g&&(g=parseFloat(g)/1e3),this.anim(a,c,h,v,g)},k.fn.anim=function(c,h,A,P,z){var D,L,I,$={},_="",O=this,F=k.fx.transitionEnd,R=!1;if(void 0===h&&(h=k.fx.speeds._default/1e3),void 0===z&&(z=0),k.fx.off&&(h=0),"string"==typeof c)$[T]=c,$[E]=h+"s",$[S]=z+"s",$[C]=A||"linear",F=k.fx.animationEnd;else{L=[];for(D in c)N.test(D)?_+=D+"("+c[D]+") ":($[D]=c[D],L.push(a(D)));_&&($[v]=_,L.push(v)),h>0&&"object"==typeof c&&($[g]=L.join(", "),$[w]=h+"s",$[b]=z+"s",$[y]=A||"linear")}return I=function(a){if("undefined"!=typeof a){if(a.target!==a.currentTarget)return;k(a.target).unbind(F,I)}else k(this).unbind(F,I);R=!0,k(this).css(M),P&&P.call(this)},h>0&&(this.bind(F,I),setTimeout(function(){R||I.call(O)},1e3*h+25)),this.size()&&this.get(0).clientLeft,this.css($),0>=h&&setTimeout(function(){O.each(function(){I.call(this)})},0),this},D=null}),define("zepto.extend.selector",[],function(){function a(a){return a=h(a),!(!a.width()&&!a.height())&&"none"!==a.css("display")}function c(a,c){a=a.replace(/=#\]/g,'="#"]');var h,v,g=b.exec(a);if(g&&g[2]in y&&(h=y[g[2]],v=g[3],a=g[1],v)){var w=Number(v);v=isNaN(w)?v.replace(/^["']|["']$/g,""):w}return c(a,h,v)}var h=window.Zepto,v=h.zepto,g=v.qsa,w=v.matches,y=h.expr[":"]={visible:function(){return a(this)?this:void 0},hidden:function(){return a(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(a){return 0===a?this:void 0},last:function(a,c){return a===c.length-1?this:void 0},eq:function(a,c,h){return a===h?this:void 0},contains:function(a,c,v){return h(this).text().indexOf(v)>-1?this:void 0},has:function(a,c,h){return v.qsa(this,h).length?this:void 0}},b=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),T=/^\s*>/,E="Zepto"+ +new Date;v.qsa=function(a,w){return c(w,function(c,w,y){try{var b;!c&&w?c="*":T.test(c)&&(b=h(a).addClass(E),c="."+E+" "+c);var C=g(a,c)}catch(e){throw e}finally{b&&b.removeClass(E)}return w?v.uniq(h.map(C,function(n,i){return w.call(n,i,C,y)})):C})},v.matches=function(a,h){return c(h,function(c,h,v){return!(c&&!w(a,c)||h&&h.call(a,null,v)!==a)})}}),define("ui.add2home",[],function(require,exports,module){"use strict";function a(){window.removeEventListener("load",a,!1),w=!0}function c(a){return y=y||new c.Class(a)}function h(a,c){for(var i in c)a[i]=c[i];return a}function v(){"#ath"==document.location.hash&&history.replaceState("",window.document.title,document.location.href.split("#")[0]),b.test(document.location.href)&&history.replaceState("",window.document.title,document.location.href.replace(b,"$1")),T.test(document.location.search)&&history.replaceState("",window.document.title,document.location.href.replace(T,"$2"))}var g=window.Zepto,w=!1;"complete"===document.readyState?w=!0:window.addEventListener("load",a,!1);var y,b=/\/ath(\/)?$/,T=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;c.intl={en_us:{message:"To add this web app to the home screen: tap %icon and then <strong>%action</strong>.",action:{ios:"Add to Home Screen",android:"Add to homescreen",windows:"pin to start"}},zh_cn:{message:"如要把应用程式加至主屏幕,请点击%icon, 然后<strong>%action</strong>",action:{ios:"加至主屏幕",android:"加至主屏幕",windows:"按住启动"}},zh_tw:{message:"如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>%action</strong>.",action:{ios:"加至主屏幕",android:"加至主屏幕",windows:"按住啟動"}}};for(var E in c.intl)c.intl[E.substr(0,2)]=c.intl[E];c.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,detectHomescreen:!1};var C=window.navigator.userAgent,S=window.navigator;h(c,{hasToken:"#ath"==document.location.hash||b.test(document.location.href)||T.test(document.location.search),isRetina:window.devicePixelRatio&&window.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(C),isMobileChrome:C.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(C),isMobileIE:C.indexOf("Windows Phone")>-1,language:S.language&&S.language.toLowerCase().replace("-","_")||""}),c.language=c.language&&c.language in c.intl?c.language:"en_us",c.isMobileSafari=c.isIDevice&&C.indexOf("Safari")>-1&&C.indexOf("CriOS")<0,c.OS=c.isIDevice?"ios":c.isMobileChrome?"android":c.isMobileIE?"windows":"unsupported",c.OSVersion=C.match(/(OS|Android) (\d+[_\.]\d+)/),c.OSVersion=c.OSVersion&&c.OSVersion[2]?+c.OSVersion[2].replace("_","."):0,c.isStandalone=window.navigator.standalone||c.isMobileChrome&&screen.height-document.documentElement.clientHeight<40,c.isTablet=c.isMobileSafari&&C.indexOf("iPad")>-1||c.isMobileChrome&&C.indexOf("Mobile")<0,c.isCompatible=c.isMobileSafari&&c.OSVersion>=6||c.isMobileChrome;var k={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};c.removeSession=function(a){try{localStorage.removeItem(a||c.defaults.appID)}catch(e){}},c.Class=function(a){if(this.options=h({},c.defaults),h(this.options,a),this.options.mandatory=this.options.mandatory&&("standalone"in window.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(c.isCompatible=!0,c.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==c.OS?"android":c.OS,c.OSVersion="ios"==c.OS?"8":"4"),this.container=document.documentElement,this.session=localStorage.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!c.hasToken||c.isCompatible&&this.session||(c.hasToken=!1,v()),c.isCompatible){this.session=this.session||k;try{localStorage.setItem(this.options.appID,JSON.stringify(this.session)),c.hasLocalStorage=!0}catch(e){c.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var g=!this.options.validLocation.length,i=this.options.validLocation.length;i--;)if(this.options.validLocation[i].test(document.location.href)){g=!0;break}if(localStorage.getItem("addToHome")&&this.optOut(),!this.session.optedout&&!this.session.added&&g){if(c.isStandalone)return void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&c.hasLocalStorage&&this.options.onAdd.call(this)));if(this.options.detectHomescreen){if(c.hasToken)return v(),void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&c.hasLocalStorage&&this.options.onAdd.call(this)));"hash"==this.options.detectHomescreen?history.replaceState("",window.document.title,document.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",window.document.title,document.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",window.document.title,document.location.href+(document.location.search?"&":"?")+"ath=")}(this.session.returningVisitor||(this.session.returningVisitor=!0,this.updateSession(),!this.options.skipFirstVisit))&&c.hasLocalStorage&&(this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&this.show())}}},c.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(e){var a=this.events[e.type];a&&this[a](e)},show:function(a){if(this.options.autostart&&!w)return void setTimeout(this.show.bind(this),50);if(!this.shown){var h=Date.now(),v=this.session.lastDisplayTime;if(a!==!0){if(!this.ready)return;if(h-v<6e4*this.options.displayPace)return;if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return}this.shown=!0,this.session.lastDisplayTime=h,this.session.displayCount++,this.updateSession(),this.applicationIcon||(this.applicationIcon=document.querySelector("ios"==c.OS?'head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]':'head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var g="";g=this.options.message in c.intl?c.intl[this.options.message].message.replace("%action",c.intl[this.options.message].action[c.OS]):""!==this.options.message?this.options.message:c.intl[c.language].message.replace("%action",c.intl[c.language].action[c.OS]),g="<p>"+g.replace("%icon",'<span class="ath-action-icon">icon</span>')+"</p>",this.viewport=document.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=document.createElement("div"),this.element.className="ath-container ath-"+c.OS+" ath-"+c.OS+(c.OSVersion+"").substr(0,1)+" ath-"+(c.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);transition-property:transform,opacity;transition-duration:0;transform:translate3d(0,0,0);-webkit-transition-timing-function:ease-out",this.element.style.webkitTransform="translate3d(0,-"+window.innerHeight+"px,0)",this.element.style.webkitTransitionDuration="0s",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=document.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=g,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img||this._delayedShow()}},_delayedShow:function(){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var a=this;this.updateViewport(),window.addEventListener("resize",this,!1),window.addEventListener("scroll",this,!1),window.addEventListener("orientationchange",this,!1),this.options.modal&&document.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){a.element.addEventListener("click",a,!0)},1e3),setTimeout(function(){a.element.style.webkitTransform="translate3d(0,0,0)",a.element.style.webkitTransitionDuration="1.2s"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),window.removeEventListener("resize",this,!1),window.removeEventListener("scroll",this,!1),window.removeEventListener("orientationchange",this,!1),document.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=window.innerWidth+"px",this.viewport.style.height=window.innerHeight+"px",this.viewport.style.left=window.scrollX+"px",this.viewport.style.top=window.scrollY+"px";var a=document.documentElement.clientWidth;this.orientation=a>document.documentElement.clientHeight?"landscape":"portrait";var h="ios"==c.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>a?1:h/window.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){c.hasLocalStorage!==!1&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=k,this.updateSession()},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(e){e.preventDefault(),e.stopPropagation()}},g.AMUI.addToHomescreen=c,module.exports=c}),define("ui.alert",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";require("core");var a=window.Zepto,c=a.AMUI,h=function(c,v){this.options=a.extend({},h.DEFAULTS,v),this.$element=a(c),this.$element.addClass("am-fade am-in").on("click.alert.amui",".am-close",a.proxy(this.close,this))};h.DEFAULTS={removeElement:!0},h.prototype.close=function(){function h(){g.trigger("closed:alert:amui").remove()}var v=a(this),g=v.hasClass("am-alert")?v:v.parent(".am-alert");g.trigger("close:alert:amui"),g.removeClass("am-in"),c.support.transition&&g.hasClass("am-fade")?g.one(c.support.transition.end,h).emulateTransitionEnd(200):h()},a.fn.alert=function(c){return this.each(function(){var v=a(this),g=v.data("amui.alert"),w="object"==typeof c&&c;g||v.data("amui.alert",g=new h(this,w||{})),"string"==typeof c&&g[c].call(v)})},a(document).on("click.alert.amui","[data-am-alert]",function(e){var c=a(e.target);a(this).addClass("am-fade am-in"),c.is(".am-close")&&a(this).alert("close")}),c.alert=h,module.exports=h}),define("ui.button",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var h=c(this),g=h.data("amui.button"),w="object"==typeof a&&a||{};g||h.data("amui.button",g=new v(this,w)),"toggle"==a?g.toggle():"string"==typeof a&&g.setState(a)})}require("core");var c=window.Zepto,h=c.AMUI,v=function(a,h){this.$element=c(a),this.options=c.extend({},v.DEFAULTS,h),this.isLoading=!1,this.hasSpinner=!1};v.DEFAULTS={loadingText:"loading...",className:{loading:"am-btn-loading",disabled:"am-disabled"},spinner:void 0},v.prototype.setState=function(a){var v="disabled",g=this.$element,w=this.options,y=g.is("input")?"val":"html",b=w.className.disabled+" "+w.className.loading;a+="Text",w.resetText||(w.resetText=g[y]()),h.support.animation&&w.spinner&&"html"===y&&!this.hasSpinner&&(w.loadingText='<span class="am-icon-'+w.spinner+' am-icon-spin"></span>'+w.loadingText,this.hasSpinner=!0),g[y](w[a]),setTimeout(c.proxy(function(){"loadingText"==a?(g.addClass(b).attr(v,v),this.isLoading=!0):this.isLoading&&(g.removeClass(b).removeAttr(v),this.isLoading=!1)},this),0)},v.prototype.toggle=function(){var a=!0,c=this.$element,h=this.$element.parent(".am-btn-group");if(h.length){var v=this.$element.find("input");"radio"==v.prop("type")&&(v.prop("checked")&&c.hasClass("am-active")?a=!1:h.find(".am-active").removeClass("am-active")),a&&v.prop("checked",!c.hasClass("am-active")).trigger("change")}a&&(c.toggleClass("am-active"),c.hasClass("am-active")||c.blur())},c.fn.button=a,c(document).on("click.button.amui","[data-am-button]",function(e){var h=c(e.target);h.hasClass("am-btn")||(h=h.closest(".am-btn")),a.call(h,"toggle"),e.preventDefault()}),c(function(){c("[data-am-loading]").each(function(){c(this).button(h.utils.parseOptions(c(this).data("amLoading")))})}),h.button=v,module.exports=v}),define("ui.collapse",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var g=c(this),w=g.data("amui.collapse"),y=c.extend({},v.DEFAULTS,h.utils.options(g.attr("data-am-collapse")),"object"==typeof a&&a);!w&&y.toggle&&"open"==a&&(a=!a),w||g.data("amui.collapse",w=new v(this,y)),"string"==typeof a&&w[a]()})}require("core");var c=window.Zepto,h=c.AMUI,v=function(a,h){this.$element=c(a),this.options=c.extend({},v.DEFAULTS,h),this.transitioning=null,this.options.parent&&(this.$parent=c(this.options.parent)),this.options.toggle&&this.toggle()};v.DEFAULTS={toggle:!0},v.prototype.open=function(){if(!this.transitioning&&!this.$element.hasClass("am-in")){var v=c.Event("open:collapse:amui");if(this.$element.trigger(v),!v.isDefaultPrevented()){var g=this.$parent&&this.$parent.find("> .am-panel > .am-in");if(g&&g.length){var w=g.data("amui.collapse");if(w&&w.transitioning)return;a.call(g,"close"),w||g.data("amui.collapse",null)}this.$element.removeClass("am-collapse").addClass("am-collapsing").height(0),this.transitioning=1;var y=function(){this.$element.removeClass("am-collapsing").addClass("am-collapse am-in").height(""),this.transitioning=0,this.$element.trigger("opened:collapse:amui")};return h.support.transition?void this.$element.one(h.support.transition.end,c.proxy(y,this)).emulateTransitionEnd(300).height(this.$element[0].scrollHeight):y.call(this)}}},v.prototype.close=function(){if(!this.transitioning&&this.$element.hasClass("am-in")){var a=c.Event("close:collapse:amui");if(this.$element.trigger(a),!a.isDefaultPrevented()){this.$element.height(this.$element.height()),this.$element[0].offsetHeight,this.$element.addClass("am-collapsing").removeClass("am-collapse").removeClass("am-in"),this.transitioning=1;var v=function(){this.transitioning=0,this.$element.trigger("closed:collapse:amui").removeClass("am-collapsing").addClass("am-collapse")};return h.support.transition?void this.$element.height(0).one(h.support.transition.end,c.proxy(v,this)).emulateTransitionEnd(350):v.call(this)}}},v.prototype.toggle=function(){this[this.$element.hasClass("am-in")?"close":"open"]()},c.fn.collapse=a,c(document).on("click.collapse.amui","[data-am-collapse]",function(e){var v,g=c(this),w=h.utils.options(g.attr("data-am-collapse")),y=w.target||e.preventDefault()||(v=g.attr("href"))&&v.replace(/.*(?=#[^\s]+$)/,""),b=c(y),T=b.data("amui.collapse"),E=T?"toggle":w,C=w.parent,S=C&&c(C);T&&T.transitioning||(S&&S.find("[data-am-collapse]").not(g).addClass("am-collapsed"),g[b.hasClass("am-in")?"addClass":"removeClass"]("am-collapsed")),a.call(b,E)}),h.collapse=v,module.exports=v}),define("ui.dimmer",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";require("core");var a=window.Zepto,c=a.AMUI,h=a(document),v=c.support.transition,g=function(){this.id=c.utils.generateGUID("am-dimmer"),this.$element=a(g.DEFAULTS.tpl,{id:this.id}),this.inited=!1,this.scrollbarWidth=0,this.used=a([])};g.DEFAULTS={tpl:'<div class="am-dimmer" data-am-dimmer></div>'},g.prototype.init=function(){return this.inited||(a(document.body).append(this.$element),this.inited=!0,h.trigger("init:dimmer:amui")),this},g.prototype.open=function(c){this.inited||this.init();var h=this.$element;return c&&(this.used=this.used.add(a(c))),this.checkScrollbar().setScrollbar(),h.show().trigger("open:dimmer:amui"),setTimeout(function(){h.addClass("am-active")},0),this},g.prototype.close=function(c,h){function g(){this.resetScrollbar(),w.hide()}if(this.used=this.used.not(a(c)),!h&&this.used.length)return this;var w=this.$element;return w.removeClass("am-active").trigger("close:dimmer:amui"),v?w.one(v.end,a.proxy(g,this)):g.call(this),this},g.prototype.checkScrollbar=function(){return this.scrollbarWidth=c.utils.measureScrollbar(),this},g.prototype.setScrollbar=function(){var c=a(document.body),h=parseInt(c.css("padding-right")||0,10);return this.scrollbarWidth&&c.css("padding-right",h+this.scrollbarWidth),c.addClass("am-dimmer-active"),this},g.prototype.resetScrollbar=function(){return a(document.body).css("padding-right","").removeClass("am-dimmer-active"),this};var w=new g;c.dimmer=w,module.exports=w}),define("ui.dropdown",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var v=c(this),w=v.data("amui.dropdown"),y=c.extend({},h.utils.parseOptions(v.attr("data-am-dropdown")),"object"==typeof a&&a);w||v.data("amui.dropdown",w=new g(this,y)),"string"==typeof a&&w[a]()})}require("core");var c=window.Zepto,h=c.AMUI,v=h.support.animation,g=function(a,h){this.options=c.extend({},g.DEFAULTS,h),h=this.options,this.$element=c(a),this.$toggle=this.$element.find(h.selector.toggle),this.$dropdown=this.$element.find(h.selector.dropdown),this.$boundary=h.boundary===window?c(window):this.$element.closest(h.boundary),this.$justify=h.justify&&c(h.justify).length&&c(h.justify)||void 0,!this.$boundary.length&&(this.$boundary=c(window)),this.active=this.$element.hasClass("am-active")?!0:!1,this.animating=null,this.events()};g.DEFAULTS={animation:"am-animation-slide-top-fixed",boundary:window,justify:void 0,selector:{dropdown:".am-dropdown-content",toggle:".am-dropdown-toggle"},trigger:"click"},g.prototype.toggle=function(){this.clear(),this.animating||this[this.active?"close":"open"]()},g.prototype.open=function(){var a=this.$toggle,h=this.$element,g=this.$dropdown;if(!a.is(".am-disabled, :disabled")&&!this.active){h.trigger("open:dropdown:amui").addClass("am-active"),a.trigger("focus"),this.checkDimensions();var w=c.proxy(function(){h.trigger("opened:dropdown:amui"),this.active=!0,this.animating=0},this);v?(this.animating=1,g.addClass(this.options.animation).on(v.end+".open.dropdown.amui",c.proxy(function(){w(),g.removeClass(this.options.animation)},this))):w()}},g.prototype.close=function(){if(this.active){var a=this.options.animation+" am-animation-reverse",h=this.$element,g=this.$dropdown;h.trigger("close:dropdown:amui");var w=c.proxy(function(){h.removeClass("am-active").trigger("closed:dropdown:amui"),this.active=!1,this.animating=0,this.$toggle.blur()},this);v?(g.addClass(a),this.animating=1,g.one(v.end+".close.dropdown.amui",function(){w(),g.removeClass(a)
})):w()}},g.prototype.checkDimensions=function(){if(this.$dropdown.length){var a=this.$dropdown,h=a.offset(),v=a.outerWidth(),g=this.$boundary.width(),w=c.isWindow(this.boundary)&&this.$boundary.offset()?this.$boundary.offset().left:0;this.$justify&&a.css({"min-width":this.$justify.width()}),v+(h.left-w)>g&&this.$element.addClass("am-dropdown-flip")}},g.prototype.clear=function(){c("[data-am-dropdown]").not(this.$element).each(function(){var a=c(this).data("amui.dropdown");a&&a.close()})},g.prototype.events=function(){var a="dropdown.amui",h=this.$toggle;h.on("click."+a,c.proxy(this.toggle,this)),c(document).on("keydown.dropdown.amui",c.proxy(function(e){27===e.keyCode&&this.active&&this.close()},this)).on("click.outer.dropdown.amui",c.proxy(function(e){!this.active||this.$element[0]!==e.target&&this.$element.find(e.target).length||this.close()},this))},c.fn.dropdown=a,c(function(){c("[data-am-dropdown]").dropdown()}),c(document).on("click.dropdown.amui",".am-dropdown form",function(e){e.stopPropagation()}),h.dropdown=g,module.exports=g}),define("ui.iscroll-lite",[],function(require,exports,module){"use strict";!function(a,c,h){function v(a,h){this.wrapper="string"==typeof a?c.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in h)this.options[i]=h[i];this.translateZ=this.options.HWCompositing&&w.hasPerspective?" translateZ(0)":"",this.options.useTransition=w.hasTransition&&this.options.useTransition,this.options.useTransform=w.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?w.ease[this.options.bounceEasing]||w.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var g=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(c){a.setTimeout(c,1e3/60)},w=function(){function v(a){return y===!1?!1:""===y?a:y+a.charAt(0).toUpperCase()+a.substr(1)}var g={},w=c.createElement("div").style,y=function(){for(var a,c=["t","webkitT","MozT","msT","OT"],i=0,l=c.length;l>i;i++)if(a=c[i]+"ransform",a in w)return c[i].substr(0,c[i].length-1);return!1}();g.getTime=Date.now||function(){return(new Date).getTime()},g.extend=function(a,c){for(var i in c)a[i]=c[i]},g.addEvent=function(a,c,h,v){a.addEventListener(c,h,!!v)},g.removeEvent=function(a,c,h,v){a.removeEventListener(c,h,!!v)},g.prefixPointerEvent=function(c){return a.MSPointerEvent?"MSPointer"+c.charAt(9).toUpperCase()+c.substr(10):c},g.momentum=function(a,c,v,g,w,y){var b,T,E=a-c,C=h.abs(E)/v;return y=void 0===y?6e-4:y,b=a+C*C/(2*y)*(0>E?-1:1),T=C/y,g>b?(b=w?g-w/2.5*(C/8):g,E=h.abs(b-a),T=E/C):b>0&&(b=w?w/2.5*(C/8):0,E=h.abs(a)+b,T=E/C),{destination:h.round(b),duration:T}};var b=v("transform");return g.extend(g,{hasTransform:b!==!1,hasPerspective:v("perspective")in w,hasTouch:"ontouchstart"in a,hasPointer:a.PointerEvent||a.MSPointerEvent,hasTransition:v("transition")in w}),g.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),g.extend(g.style={},{transform:b,transitionTimingFunction:v("transitionTimingFunction"),transitionDuration:v("transitionDuration"),transitionDelay:v("transitionDelay"),transformOrigin:v("transformOrigin")}),g.hasClass=function(e,a){var re=new RegExp("(^|\\s)"+a+"(\\s|$)");return re.test(e.className)},g.addClass=function(e,a){if(!g.hasClass(e,a)){var c=e.className.split(" ");c.push(a),e.className=c.join(" ")}},g.removeClass=function(e,a){if(g.hasClass(e,a)){var re=new RegExp("(^|\\s)"+a+"(\\s|$)","g");e.className=e.className.replace(re," ")}},g.offset=function(a){for(var c=-a.offsetLeft,h=-a.offsetTop;a=a.offsetParent;)c-=a.offsetLeft,h-=a.offsetTop;return{left:c,top:h}},g.preventDefaultException=function(a,c){for(var i in c)if(c[i].test(a[i]))return!0;return!1},g.extend(g.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),g.extend(g.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return h.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var c=4;return(a-=1)*a*((c+1)*a+c)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var f=.22,e=.4;return 0===a?0:1==a?1:e*h.pow(2,-10*a)*h.sin(2*(a-f/4)*h.PI/f)+1}}}),g.tap=function(e,a){var h=c.createEvent("Event");h.initEvent(a,!0,!0),h.pageX=e.pageX,h.pageY=e.pageY,e.target.dispatchEvent(h)},g.click=function(e){var a,h=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(h.tagName)||(a=c.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,e.view,1,h.screenX,h.screenY,h.clientX,h.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),a._constructed=!0,h.dispatchEvent(a))},g}();v.prototype={version:"5.1.3",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(!(1!=w.eventType[e.type]&&0!==e.button||!this.enabled||this.initiated&&w.eventType[e.type]!==this.initiated)){!this.options.preventDefault||w.isBadAndroid||w.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var a,c=e.touches?e.touches[0]:e;this.initiated=w.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=w.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,a=this.getComputedPosition(),this._translate(h.round(a.x),h.round(a.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&w.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var a,c,v,g,y=e.touches?e.touches[0]:e,b=y.pageX-this.pointX,T=y.pageY-this.pointY,E=w.getTime();if(this.pointX=y.pageX,this.pointY=y.pageY,this.distX+=b,this.distY+=T,v=h.abs(this.distX),g=h.abs(this.distY),!(E-this.endTime>300&&10>v&&10>g)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=v>g+this.options.directionLockThreshold?"h":g>=v+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);T=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);b=0}b=this.hasHorizontalScroll?b:0,T=this.hasVerticalScroll?T:0,a=this.x+b,c=this.y+T,(a>0||a<this.maxScrollX)&&(a=this.options.bounce?this.x+b/3:a>0?0:this.maxScrollX),(c>0||c<this.maxScrollY)&&(c=this.options.bounce?this.y+T/3:c>0?0:this.maxScrollY),this.directionX=b>0?-1:0>b?1:0,this.directionY=T>0?-1:0>T?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(a,c),E-this.startTime>300&&(this.startTime=E,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&w.eventType[e.type]===this.initiated){this.options.preventDefault&&!w.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var a,c,v=(e.changedTouches?e.changedTouches[0]:e,w.getTime()-this.startTime),g=h.round(this.x),y=h.round(this.y),b=h.abs(g-this.startX),T=h.abs(y-this.startY),E=0,C="";if(this.isInTransition=0,this.initiated=0,this.endTime=w.getTime(),!this.resetPosition(this.options.bounceTime))return this.scrollTo(g,y),this.moved?this._events.flick&&200>v&&100>b&&100>T?void this._execEvent("flick"):(this.options.momentum&&300>v&&(a=this.hasHorizontalScroll?w.momentum(this.x,this.startX,v,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:g,duration:0},c=this.hasVerticalScroll?w.momentum(this.y,this.startY,v,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:y,duration:0},g=a.destination,y=c.destination,E=h.max(a.duration,c.duration),this.isInTransition=1),g!=this.x||y!=this.y?((g>0||g<this.maxScrollX||y>0||y<this.maxScrollY)&&(C=w.ease.quadratic),void this.scrollTo(g,y,E,C)):void this._execEvent("scrollEnd")):(this.options.tap&&w.tap(e,this.options.tap),this.options.click&&w.click(e),void this._execEvent("scrollCancel"))}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var x=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?x=0:this.x<this.maxScrollX&&(x=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),x==this.x&&c==this.y?!1:(this.scrollTo(x,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=w.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,c){this._events[a]||(this._events[a]=[]),this._events[a].push(c)},off:function(a,c){if(this._events[a]){var h=this._events[a].indexOf(c);h>-1&&this._events[a].splice(h,1)}},_execEvent:function(a){if(this._events[a]){var i=0,l=this._events[a].length;if(l)for(;l>i;i++)this._events[a][i].apply(this,[].slice.call(arguments,1))}},scrollBy:function(x,a,c,h){x=this.x+x,a=this.y+a,c=c||0,this.scrollTo(x,a,c,h)},scrollTo:function(x,a,c,h){h=h||w.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&h.style?(this._transitionTimingFunction(h.style),this._transitionTime(c),this._translate(x,a)):this._animate(x,a,c,h.fn)},scrollToElement:function(a,c,v,g,y){if(a=a.nodeType?a:this.scroller.querySelector(a)){var b=w.offset(a);b.left-=this.wrapperOffset.left,b.top-=this.wrapperOffset.top,v===!0&&(v=h.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),g===!0&&(g=h.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),b.left-=v||0,b.top-=g||0,b.left=b.left>0?0:b.left<this.maxScrollX?this.maxScrollX:b.left,b.top=b.top>0?0:b.top<this.maxScrollY?this.maxScrollY:b.top,c=void 0===c||null===c||"auto"===c?h.max(h.abs(this.x-b.left),h.abs(this.y-b.top)):c,this.scrollTo(b.left,b.top,c,y)}},_transitionTime:function(a){a=a||0,this.scrollerStyle[w.style.transitionDuration]=a+"ms",!a&&w.isBadAndroid&&(this.scrollerStyle[w.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(a){this.scrollerStyle[w.style.transitionTimingFunction]=a},_translate:function(x,a){this.options.useTransform?this.scrollerStyle[w.style.transform]="translate("+x+"px,"+a+"px)"+this.translateZ:(x=h.round(x),a=h.round(a),this.scrollerStyle.left=x+"px",this.scrollerStyle.top=a+"px"),this.x=x,this.y=a},_initEvents:function(c){var h=c?w.removeEvent:w.addEvent,v=this.options.bindToWrapper?this.wrapper:a;h(a,"orientationchange",this),h(a,"resize",this),this.options.click&&h(this.wrapper,"click",this,!0),this.options.disableMouse||(h(this.wrapper,"mousedown",this),h(v,"mousemove",this),h(v,"mousecancel",this),h(v,"mouseup",this)),w.hasPointer&&!this.options.disablePointer&&(h(this.wrapper,w.prefixPointerEvent("pointerdown"),this),h(v,w.prefixPointerEvent("pointermove"),this),h(v,w.prefixPointerEvent("pointercancel"),this),h(v,w.prefixPointerEvent("pointerup"),this)),w.hasTouch&&!this.options.disableTouch&&(h(this.wrapper,"touchstart",this),h(v,"touchmove",this),h(v,"touchcancel",this),h(v,"touchend",this)),h(this.scroller,"transitionend",this),h(this.scroller,"webkitTransitionEnd",this),h(this.scroller,"oTransitionEnd",this),h(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var x,c,h=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(h=h[w.style.transform].split(")")[0].split(", "),x=+(h[12]||h[4]),c=+(h[13]||h[5])):(x=+h.left.replace(/[^-\d.]/g,""),c=+h.top.replace(/[^-\d.]/g,"")),{x:x,y:c}},_animate:function(a,c,h,v){function y(){var k,A,P,z=w.getTime();return z>=S?(b.isAnimating=!1,b._translate(a,c),void(b.resetPosition(b.options.bounceTime)||b._execEvent("scrollEnd"))):(z=(z-C)/h,P=v(z),k=(a-T)*P+T,A=(c-E)*P+E,b._translate(k,A),void(b.isAnimating&&g(y)))}var b=this,T=this.x,E=this.y,C=w.getTime(),S=C+h;this.isAnimating=!0,y()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}}},v.utils=w,"undefined"!=typeof module&&module.exports?module.exports=v:a.IScroll=v}(window,document,Math)}),define("ui.modal",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.dimmer"],function(require,exports,module){"use strict";function a(a,c){return this.each(function(){var v=h(this),g=v.data("am.modal"),w=h.extend({},y.DEFAULTS,"object"==typeof a&&a);g||v.data("am.modal",g=new y(this,w)),"string"==typeof a?g[a](c):g.toggle(a&&a.relatedElement||void 0)})}require("core");var c=require("ui.dimmer"),h=window.Zepto,v=h.AMUI,g=h(document),w=v.support.transition,y=function(a,c){this.options=h.extend({},y.DEFAULTS,c||{}),this.$element=h(a),this.$element.attr("id")||this.$element.attr("id",v.utils.generateGUID("am-modal")),this.isPopup=this.$element.hasClass("am-popup"),this.active=this.transitioning=null,this.events()};y.DEFAULTS={className:{active:"am-modal-active",out:"am-modal-out"},selector:{modal:".am-modal",active:".am-modal-active"},cancelable:!0,onConfirm:function(){},onCancel:function(){},duration:300,transitionEnd:w.end&&w.end+".modal.amui"},y.prototype.toggle=function(a){return this.active?this.close():this.open(a)},y.prototype.open=function(a){var v=this.$element,g=this.options,y=this.isPopup;if(!this.active&&this.$element.length){this.transitioning&&(clearTimeout(v.transitionEndTimmer),v.transitionEndTimmer=null,v.trigger(g.transitionEnd).off(g.transitionEnd)),y&&this.$element.show(),this.active=!0,v.trigger(h.Event("open:modal:amui",{relatedElement:a})),c.open(v),v.show().redraw(),!y&&v.css({marginTop:-parseInt(v.height()/2,10)+"px"}),v.removeClass(g.className.out).addClass(g.className.active),this.transitioning=1;var b=function(){v.trigger(h.Event("opened:modal:amui",{relatedElement:a})),this.transitioning=0};return w?void v.one(g.transitionEnd,h.proxy(b,this)).emulateTransitionEnd(g.duration):b.call(this)}},y.prototype.close=function(a){if(this.active){var v=this.$element,g=this.options,y=this.isPopup;this.transitioning&&(clearTimeout(v.transitionEndTimmer),v.transitionEndTimmer=null,v.trigger(g.transitionEnd).off(g.transitionEnd)),this.$element.trigger(h.Event("close:modal:amui",{relatedElement:a})),this.transitioning=1;var b=function(){v.trigger("closed:amui:modal"),y&&v.removeClass(g.className.out),v.hide(),this.transitioning=0};if(v.removeClass(g.className.active).addClass(g.className.out),!w)return b.call(this);v.one(g.transitionEnd,h.proxy(b,this)).emulateTransitionEnd(g.duration),c.close(v,!0),this.active=!1}},y.prototype.events=function(){var a=this,v=this.$element,g=v.find(".am-modal-prompt-input");this.options.cancelable&&(v.on("keyup.modal.amui",h.proxy(function(e){this.active&&27===e.which&&(this.options.onCancel(),this.close())},a)),c.$element.on("click",function(){a.close()})),v.find("[data-am-modal-close]").on("click.modal.amui",function(e){e.preventDefault(),a.close()}),v.find(".am-modal-btn").on("click.modal.amui",function(){a.close()}),v.find("[data-am-modal-confirm]").on("click.modal.amui",function(){a.options.onConfirm(g.val())}),v.find("[data-am-modal-cancel]").on("click.modal.amui",function(){a.options.onCancel(g.val())})},h.fn.modal=a,g.on("click","[data-am-modal]",function(){var c=h(this),g=v.utils.parseOptions(c.attr("data-am-modal")),w=h(g.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),y=w.data("am.modal")?"toggle":g;a.call(w,y,this)}),v.modal=y,module.exports=y}),define("ui.offcanvas",["zepto.outerdemension","zepto.extend.data","core","zepto.extend.fx","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a,c){return this.each(function(){var v=h(this),g=v.data("am.offcanvas"),w=h.extend({},y.DEFAULTS,"object"==typeof a&&a);g||(v.data("am.offcanvas",g=new y(this,w)),g.open(c)),"string"==typeof a&&g[a]&&g[a](c)})}require("zepto.outerdemension"),require("zepto.extend.data"),require("core");var c,h=window.Zepto,v=h.AMUI,g=h(window),w=h(document),y=function(a,c){this.$element=h(a),this.options=c,this.active=null,this.events()};y.DEFAULTS={duration:300,effect:"overlay"},y.prototype.open=function(){var a=this.$element;if(a.length&&!a.hasClass("am-active")){var v=this.options.effect,y=h("html"),b=h("body"),T=a.find(".am-offcanvas-bar").first(),E=T.hasClass("am-offcanvas-bar-flip")?-1:1;T.addClass("am-offcanvas-bar-"+v),c={x:window.scrollX,y:window.scrollY},a.addClass("am-active"),b.css({width:window.innerWidth,height:g.height()}).addClass("am-offcanvas-page"),"overlay"!==v&&b.css({"margin-left":T.outerWidth()*E}).width(),y.css("margin-top",-1*c.y),setTimeout(function(){T.addClass("am-offcanvas-bar-active").width()},0),w.trigger("open:offcanvas:amui"),this.active=1,a.off(".offcanvas.amui").on("click.offcanvas.amui swipe.offcanvas.amui",h.proxy(function(e){var a=h(e.target);if(!e.type.match(/swipe/)){if(a.hasClass("am-offcanvas-bar"))return;if(a.parents(".am-offcanvas-bar").first().length)return}e.stopImmediatePropagation(),this.close()},this)),y.on("keydown.offcanvas.amui",h.proxy(function(e){27===e.keyCode&&this.close()},this))}},y.prototype.close=function(){function a(){b.removeClass("am-offcanvas-page").css({width:"",height:"","margin-left":"","margin-right":""}),T.removeClass("am-active"),E.removeClass("am-offcanvas-bar-active"),y.css("margin-top",""),window.scrollTo(c.x,c.y),w.trigger("closed:offcanvas:amui"),g.active=0}var g=this,y=h("html"),b=h("body"),T=this.$element,E=T.find(".am-offcanvas-bar").first();T.length&&T.hasClass("am-active")&&(w.trigger("close:offcanvas:amui"),v.support.transition?(setTimeout(function(){E.removeClass("am-offcanvas-bar-active")},0),b.css("margin-left","").one(v.support.transition.end,function(){a()}).emulateTransitionEnd(this.options.duration)):a(),T.off(".offcanvas.amui"),y.off(".offcanvas.amui"))},y.prototype.events=function(){return w.on("click.offcanvas.amui",'[data-am-dismiss="offcanvas"]',h.proxy(function(e){e.preventDefault(),this.close()},this)),g.on("resize.offcanvas.amui orientationchange.offcanvas.amui",h.proxy(function(){this.active&&this.close()},this)),this},h.fn.offCanvas=a,w.on("click.offcanvas.amui","[data-am-offcanvas]",function(e){e.preventDefault();var c=h(this),g=v.utils.parseOptions(c.data("amOffcanvas")),w=h(g.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),y=w.data("am.offcanvas")?"open":g;a.call(w,y,this)}),v.offcanvas=y,module.exports=y}),define("ui.popover",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var v=c(this),w=v.data("am.popover"),y=c.extend({},h.utils.parseOptions(v.attr("data-am-popover")),"object"==typeof a&&a);w||v.data("am.popover",w=new g(this,y)),"string"==typeof a&&w[a]()})}require("core");var c=window.Zepto,h=c.AMUI,v=c(window),g=function(a,h){this.options=c.extend({},g.DEFAULTS,h||{}),this.$element=c(a),this.active=null,this.$popover=this.options.target&&c(this.options.target)||null,this.init(),this.events()};g.DEFAULTS={trigger:"click",content:"",open:!1,target:void 0,tpl:'<div class="am-popover"><div class="am-popover-inner"></div><div class="am-popover-caret"></div></div>'},g.prototype.init=function(){function a(){g.sizePopover()}var v,g=this,w=this.$element;this.options.target||(this.$popover=this.getPopover(),this.setContent()),v=this.$popover,v.appendTo(c("body")),this.sizePopover(),c(window).on("resize:popover:amui",h.utils.debounce(a,50)),w.on("open:popover:amui",function(){c(window).on("resize:popover:amui",h.utils.debounce(a,50))}),w.on("close:popover:amui",function(){c(window).off("resize:popover:amui",a)}),this.options.open&&this.open()},g.prototype.sizePopover=function(){var a=this.$element,c=this.$popover;if(c&&c.length){var h=c.getSize(),g=c.width()||h.width,w=c.height()||h.height,y=c.find(".am-popover-caret"),b=y.width()/2||10,T=w+b,E=a.outerWidth(),C=a.outerHeight(),S=a.offset(),k=a[0].getBoundingClientRect(),A=v.height(),P=v.width(),z=0,D=0,N=0,M=3,L="top";c.css({left:"",top:""}).removeClass("am-popover-left am-popover-right am-popover-top am-popover-bottom"),y.css({left:"",top:""}),T-M<k.top+M?z=S.top-T-M:T<A-k.top-k.height?(L="bottom",z=S.top+C+b+M):(L="middle",z=C/2+S.top-w/2),"top"===L||"bottom"===L?(D=E/2+S.left-g/2,N=D,5>D&&(D=5),D+g>P&&(D=P-g-20),"top"===L&&c.addClass("am-popover-bottom"),"bottom"===L&&c.addClass("am-popover-top"),N-=D,y.css({left:g/2-b+N+"px"})):"middle"===L&&(D=S.left-g-b,c.addClass("am-popover-left"),5>D&&(D=S.left+E+b,c.removeClass("am-popover-left").addClass("am-popover-right")),D+g>P&&(D=P-g-5,c.removeClass("am-popover-left").addClass("am-popover-right")),y.css({top:w/2-b/2+"px"})),c.css({top:z+"px",left:D+"px"})}},g.prototype.toggle=function(){return this[this.active?"close":"open"]()},g.prototype.open=function(){var a=this.$popover;this.$element.trigger("open:popover:amui"),this.sizePopover(),a.show().addClass("am-active"),this.active=!0},g.prototype.close=function(){var a=this.$popover;this.$element.trigger("close:popover:amui"),a.removeClass("am-active").trigger("closed:popover:amui").hide(),this.active=!1},g.prototype.getPopover=function(){var a=h.utils.generateGUID("am-popover");return c(this.options.tpl,{id:a})},g.prototype.setContent=function(){this.$popover&&this.$popover.find(".am-popover-inner").empty().html(this.options.content)},g.prototype.events=function(){for(var a="popover.amui",h=this.options.trigger.split(" "),i=h.length;i--;){var v=h[i];if("click"===v)this.$element.on("click."+a,c.proxy(this.toggle,this));else{var g="hover"==v?"mouseenter":"focusin",w="hover"==v?"mouseleave":"focusout";this.$element.on(g+"."+a,c.proxy(this.open,this)),this.$element.on(w+"."+a,c.proxy(this.close,this))}}},c.fn.popover=a,c(function(){c("[data-am-popover]").popover()}),h.popover=g,module.exports=g}),define("ui.progress",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";require("core");var a=window.Zepto,c=a.AMUI,h=function(){function c(n,a,c){return a>n?a:n>c?c:n}function h(n){return 100*(-1+n)}function v(n,a,c){var v;return v="translate3d"===y.positionUsing?{transform:"translate3d("+h(n)+"%,0,0)"}:"translate"===y.positionUsing?{transform:"translate("+h(n)+"%,0)"}:{"margin-left":h(n)+"%"},v.transition="all "+a+"ms "+c,v}var g={},w=a("html");g.version="0.1.6";var y=g.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,parent:"body",barSelector:'[role="nprogress-bar"]',spinnerSelector:'[role="nprogress-spinner"]',template:'<div class="nprogress-bar" role="nprogress-bar"><div class="nprogress-peg"></div></div><div class="nprogress-spinner" role="nprogress-spinner"><div class="nprogress-spinner-icon"></div></div>'};g.configure=function(a){var c,h;for(c in a)h=a[c],void 0!==h&&a.hasOwnProperty(c)&&(y[c]=h);return this},g.status=null,g.set=function(n){var a=g.isStarted();n=c(n,y.minimum,1),g.status=1===n?null:n;var h=g.render(!a),w=h.querySelector(y.barSelector),E=y.speed,C=y.easing;return h.offsetWidth,b(function(a){""===y.positionUsing&&(y.positionUsing=g.getPositioningCSS()),T(w,v(n,E,C)),1===n?(T(h,{transition:"none",opacity:1}),h.offsetWidth,setTimeout(function(){T(h,{transition:"all "+E+"ms linear",opacity:0}),setTimeout(function(){g.remove(),a()},E)},E)):setTimeout(a,E)}),this},g.isStarted=function(){return"number"==typeof g.status},g.start=function(){g.status||g.set(0);var a=function(){setTimeout(function(){g.status&&(g.trickle(),a())},y.trickleSpeed)};return y.trickle&&a(),this},g.done=function(a){return a||g.status?g.inc(.3+.5*Math.random()).set(1):this},g.inc=function(a){var n=g.status;return n?("number"!=typeof a&&(a=(1-n)*c(Math.random()*n,.1,.95)),n=c(n+a,0,.994),g.set(n)):g.start()},g.trickle=function(){return g.inc(Math.random()*y.trickleRate)},g.render=function(c){if(g.isRendered())return document.getElementById("nprogress");w.addClass("nprogress-busy");var v=document.createElement("div");v.id="nprogress",v.innerHTML=y.template;var b,E=v.querySelector(y.barSelector),C=c?"-100":h(g.status||0),S=document.querySelector(y.parent);return T(E,{transition:"all 0 linear",transform:"translate3d("+C+"%,0,0)"}),y.showSpinner||(b=v.querySelector(y.spinnerSelector),b&&a(b).remove()),S!=document.body&&a(S).addClass("nprogress-custom-parent"),S.appendChild(v),v},g.remove=function(){w.removeClass("nprogress-busy"),a(y.parent).removeClass("nprogress-custom-parent");var c=document.getElementById("nprogress");c&&a(c).remove()},g.isRendered=function(){return!!document.getElementById("nprogress")},g.getPositioningCSS=function(){var a=document.body.style,c="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return c+"Perspective"in a?"translate3d":c+"Transform"in a?"translate":"margin"};var b=function(){function a(){var h=c.shift();h&&h(a)}var c=[];return function(h){c.push(h),1==c.length&&a()}}(),T=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,c){return c.toUpperCase()})}function c(a){var c=document.body.style;if(a in c)return a;for(var h,i=g.length,v=a.charAt(0).toUpperCase()+a.slice(1);i--;)if(h=g[i]+v,h in c)return h;return a}function h(h){return h=a(h),w[h]||(w[h]=c(h))}function v(a,c,v){c=h(c),a.style[c]=v}var g=["Webkit","O","Moz","ms"],w={};return function(a,c){var h,g,w=arguments;if(2==w.length)for(h in c)g=c[h],void 0!==g&&c.hasOwnProperty(h)&&v(a,h,g);else v(a,w[1],w[2])}}();return g}();c.progress=h,module.exports=h}),define("ui.pureview",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","zepto.pinchzoom","util.hammer"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var c=v(this),h=c.data("am.pureview"),w=v.extend({},g.utils.parseOptions(c.data("amPureview")),"object"==typeof a&&a);h||c.data("am.pureview",h=new b(this,w)),"string"==typeof a&&h[a]()})}require("core");var c=require("zepto.pinchzoom"),h=require("util.hammer"),v=window.Zepto,g=v.AMUI,w=g.support.animation,y=g.support.transition,b=function(a,c){this.$element=v(a),this.$body=v(document.body),this.options=v.extend({},b.DEFAULTS,c),this.$pureview=v(this.options.tpl,{id:g.utils.generateGUID("am-pureview")}),this.$slides=null,this.transitioning=null,this.scrollbarWidth=0,this.init()};b.DEFAULTS={tpl:'<div class="am-pureview am-pureview-bar-active"><ul class="am-pureview-slider"></ul><ul class="am-pureview-direction"><li class="am-pureview-prev"><a href=""></a></li><li class="am-pureview-next"><a href=""></a></li></ul><ol class="am-pureview-nav"></ol><div class="am-pureview-bar am-active"><span class="am-pureview-title"></span><span class="am-pureview-current"></span> / <span class="am-pureview-total"></span></div><div class="am-pureview-actions am-active"><a href="javascript: void(0)" class="am-icon-chevron-left" data-am-close="pureview"></a></div></div>',className:{prevSlide:"am-pureview-slide-prev",nextSlide:"am-pureview-slide-next",onlyOne:"am-pureview-only",active:"am-active",barActive:"am-pureview-bar-active",activeBody:"am-pureview-active"},selector:{slider:".am-pureview-slider",close:'[data-am-close="pureview"]',total:".am-pureview-total",current:".am-pureview-current",title:".am-pureview-title",actions:".am-pureview-actions",bar:".am-pureview-bar",pinchZoom:".am-pinch-zoom",nav:".am-pureview-nav"},shareBtn:!1,target:"img",weChatImagePreview:!0},b.prototype.init=function(){var a=this,g=this.options,w=this.$element,y=this.$pureview,b=y.find(g.selector.slider),T=y.find(g.selector.nav),E=v([]),C=v([]),S=w.find(g.target),k=S.length,A=[];k&&(1===k&&y.addClass(g.className.onlyOne),S.each(function(i,a){var c,h;"a"==g.target?(c=a.href,h=a.title||""):(c=v(a).data("rel")||a.src,h=v(a).attr("alt")||""),A.push(c),E=E.add(v('<li><div class="am-pinch-zoom"><img src="'+c+'" alt="'+h+'"/></div></li>')),C=C.add(v("<li>"+(i+1)+"</li>"))}),b.append(E),T.append(C),v("body").append(y),y.find(g.selector.total).text(k),this.$title=y.find(g.selector.title),this.$current=y.find(g.selector.current),this.$bar=y.find(g.selector.bar),this.$actions=y.find(g.selector.actions),this.$navItems=T.find("li"),this.$slides=b.find("li"),g.shareBtn&&this.$actions.append('<a href="javascript: void(0)" class="am-icon-share-square-o" data-am-toggle="share"></a>'),b.find(g.selector.pinchZoom).each(function(){v(this).data("amui.pinchzoom",new c(v(this),{})),v(this).on("pz_doubletap",function(){})}),S.on("click.pureview.amui",function(e){e.preventDefault();var c=S.index(this);g.weChatImagePreview&&window.WeixinJSBridge?window.WeixinJSBridge.invoke("imagePreview",{current:A[c],urls:A}):a.open(c)}),y.find(".am-pureview-direction a").on("click.direction.pureview.amui",function(e){e.preventDefault();
var c=v(e.target).parent("li");c.is(".am-pureview-prev")?a.prevSlide():a.nextSlide()}),this.$navItems.on("click.nav.pureview.amui",function(){var c=a.$navItems.index(v(this));a.activate(a.$slides.eq(c))}),y.find(g.selector.close).on("click.close.pureview.amui",function(e){e.preventDefault(),a.close()}),b.hammer().on("press.pureview.amui",function(e){e.preventDefault(),a.toggleToolBar()}).on("swipeleft.pureview.amui",function(e){e.preventDefault(),a.nextSlide()}).on("swiperight.pureview.amui",function(e){e.preventDefault(),a.prevSlide()}),b.data("hammer").get("swipe").set({direction:h.DIRECTION_HORIZONTAL,velocity:.35}),v(document).on("keydown.pureview.amui",v.proxy(function(e){var a=e.keyCode;37==a?this.prevSlide():39==a?this.nextSlide():27==a&&this.close()},this)))},b.prototype.activate=function(a){var c=this.options,h=this.$slides,w=h.index(a),b=a.find("img").attr("alt")||"",T=c.className.active;g.utils.imageLoader(a.find("img"),function(a){v(a).addClass("am-img-loaded")}),h.find("."+T).is(a)||this.transitioning||(this.transitioning=1,this.$title.text(b),this.$current.text(w+1),h.removeClass(),a.addClass(T),h.eq(w-1).addClass(c.className.prevSlide),h.eq(w+1).addClass(c.className.nextSlide),this.$navItems.removeClass().eq(w).addClass(c.className.active),y?a.one(y.end,v.proxy(function(){this.transitioning=0},this)).emulateTransitionEnd(300):this.transitioning=0)},b.prototype.nextSlide=function(){if(1!==this.$slides.length){var a=this.$slides,c=a.filter(".am-active"),h=a.index(c),v="am-animation-right-spring";h+1>=a.length?w&&c.addClass(v).on(w.end,function(){c.removeClass(v)}):this.activate(a.eq(h+1))}},b.prototype.prevSlide=function(){if(1!==this.$slides.length){var a=this.$slides,c=a.filter(".am-active"),h=this.$slides.index(c),v="am-animation-left-spring";0===h?w&&c.addClass(v).on(w.end,function(){c.removeClass(v)}):this.activate(a.eq(h-1))}},b.prototype.toggleToolBar=function(){this.$pureview.toggleClass(this.options.className.barActive)},b.prototype.open=function(a){var c=a||0;this.checkScrollbar(),this.setScrollbar(),this.activate(this.$slides.eq(c)),this.$pureview.addClass(this.options.className.active),this.$body.addClass(this.options.className.activeBody)},b.prototype.close=function(){function a(){this.$body.removeClass(c.className.activeBody),this.resetScrollbar()}var c=this.options;this.$pureview.removeClass(c.className.active),this.$slides.removeClass(),y?this.$pureview.one(y.end,v.proxy(a,this)):a.call(this)},b.prototype.checkScrollbar=function(){this.scrollbarWidth=g.utils.measureScrollbar()},b.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},b.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},v.fn.pureview=a,v(function(){v("[data-am-pureview]").pureview()}),g.pureview=b,module.exports=b}),define("ui.scrollspy",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var h=c(this),g=h.data("am.scrollspy"),w="object"==typeof a&&a;g||h.data("am.scrollspy",g=new v(this,w)),"string"==typeof a&&g[a]()})}require("core");var c=window.Zepto,h=c.AMUI,v=function(a,g){if(h.support.animation){this.options=c.extend({},v.DEFAULTS,g),this.$element=c(a);var w=function(){h.utils.rAF.call(window,c.proxy(this.checkView,this))}.bind(this);this.$window=c(window).on("scroll.scrollspy.amui",w).on("resize.scrollspy.amui orientationchange.scrollspy.amui",h.utils.debounce(w,50)),this.timer=this.inViewState=this.initInView=null,w()}};v.DEFAULTS={animation:"fade",className:{inView:"am-scrollspy-inview",init:"am-scrollspy-init"},repeat:!0,delay:0,topOffset:0,leftOffset:0},v.prototype.checkView=function(){var a=this.$element,c=this.options,v=h.utils.isInView(a,c),g=c.animation?" am-animation-"+c.animation:"";v&&!this.inViewState&&(this.timer&&clearTimeout(this.timer),this.initInView||(a.addClass(c.className.init),this.offset=a.offset(),this.initInView=!0,a.trigger("init:scrollspy:amui")),this.timer=setTimeout(function(){v&&a.addClass(c.className.inView+g).width()},c.delay),this.inViewState=!0,a.trigger("inview:scrollspy:amui")),!v&&this.inViewState&&c.repeat&&(a.removeClass(c.className.inView+g),this.inViewState=!1,a.trigger("outview:scrollspy:amui"))},v.prototype.check=function(){h.utils.rAF.call(window,c.proxy(this.checkView,this))},c.fn.scrollspy=a,c(function(){c("[data-am-scrollspy]").each(function(){var a=c(this),v=h.utils.options(a.attr("data-am-scrollspy"));a.scrollspy(v)})}),h.scrollspy=v,module.exports=v}),define("ui.scrollspynav",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.smooth-scroll"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var h=c(this),g=h.data("am.scrollspynav"),w="object"==typeof a&&a;g||h.data("am.scrollspynav",g=new v(this,w)),"string"==typeof a&&g[a]()})}require("core"),require("ui.smooth-scroll");var c=window.Zepto,h=c.AMUI,v=function(a,g){this.options=c.extend({},v.DEFAULTS,g),this.$element=c(a),this.anchors=[],this.$links=this.$element.find('a[href^="#"]').each(function(i,a){this.anchors.push(c(a).attr("href"))}.bind(this)),this.$targets=c(this.anchors.join(", "));var w=function(){h.utils.rAF.call(window,c.proxy(this.process,this))}.bind(this);this.$window=c(window).on("scroll.scrollspynav.amui",w).on("resize.scrollspynav.amui orientationchange.scrollspynav.amui",h.utils.debounce(w,50)),w(),this.scrollProcess()};v.DEFAULTS={className:{active:"am-active"},closest:!1,smooth:!0},v.prototype.process=function(){var a=this.$window.scrollTop(),v=this.options,g=[],w=this.$links,y=this.$targets;if(y.each(function(i,a){h.utils.isInView(a,v)&&g.push(a)}),g.length){var b;if(c.each(g,function(i,h){return c(h).offset().top>=a?(b=c(h),!1):void 0}),!b)return;v.closest?(w.closest(v.closest).removeClass(v.className.active),w.filter('a[href="#'+b.attr("id")+'"]').closest(v.closest).addClass(v.className.active)):w.removeClass(v.className.active).filter('a[href="#'+b.attr("id")+'"]').addClass(v.className.active)}},v.prototype.scrollProcess=function(){var a=this.$links;this.options.smooth&&a.on("click",function(e){e.preventDefault();var a=c(this),h=c(a.attr("href"));h&&c(window).smoothScroll({position:h.offset().top})})},c.fn.scrollspynav=a,c(function(){c("[data-am-scrollspy-nav]").each(function(){var v=c(this),g=h.utils.options(v.attr("data-am-scrollspy-nav"));a.call(v,g)})}),h.scrollspynav=v,module.exports=v}),define("ui.share",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.modal","ui.dimmer","util.qrcode"],function(require,exports,module){"use strict";require("core"),require("ui.modal");var a=require("util.qrcode"),c=window.Zepto,h=c.AMUI,v=document,g=c(v),w=function(a){this.options=c.extend({},w.DEFAULTS,a||{}),this.$element=null,this.$wechatQr=null,this.pics=null,this.inited=!1,this.active=!1};w.DEFAULTS={sns:["weibo","qq","qzone","tqq","wechat","renren"],title:"分享到",cancel:"取消",closeOnShare:!0,id:h.utils.generateGUID("am-share"),desc:"Hi，孤夜观天象，发现一个不错的西西，分享一下下 ;-)",via:"Amaze UI",tpl:'<div class="am-share am-modal-actions" id="<%= id %>"><h3 class="am-share-title"><%= title %></h3><ul class="am-share-sns sm-block-grid-3"><% for(var i = 0; i < sns.length; i++) {%><li><a href="<%= sns[i].shareUrl %>" data-am-share-to="<%= sns[i].id %>" ><i class="am-icon-<%= sns[i].icon %>"></i><span><%= sns[i].title %></span></a></li><% } %></ul><div class="am-share-footer"><button class="am-btn am-btn-default am-btn-block" data-am-share-close><%= cancel %></button></div></div>'},w.SNS={weibo:{title:"新浪微博",url:"http://service.weibo.com/share/share.php",width:620,height:450,icon:"weibo"},qq:{title:"QQ 好友",url:"http://connect.qq.com/widget/shareqq/index.html",icon:"qq"},qzone:{title:"QQ 空间",url:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",icon:"star"},tqq:{title:"腾讯微博",url:"http://v.t.qq.com/share/share.php",icon:"tencent-weibo"},wechat:{title:"微信",url:"[qrcode]",icon:"wechat"},renren:{title:"人人网",url:"http://widget.renren.com/dialog/share",icon:"renren"},douban:{title:"豆瓣",url:"http://www.douban.com/recommend/",icon:"share-alt"},mail:{title:"邮件分享",url:"mailto:",icon:"envelope-o"},sms:{title:"短信分享",url:"sms:",icon:"comment"}},w.prototype.render=function(){var a=this.options,g=[],y=encodeURIComponent(v.title),b=encodeURIComponent(v.location),T="?body="+y+b;return a.sns.forEach(function(c){if(w.SNS[c]){var h,v=w.SNS[c];v.id=c,h="mail"===c?T+"&subject="+a.desc:"sms"===c?T:"?url="+b+"&title="+y,v.shareUrl=v.url+h,g.push(v)}}),h.template(a.tpl,c.extend({},a,{sns:g}))},w.prototype.init=function(){if(!this.inited){var a=this,h="[data-am-share-to]";g.ready(c.proxy(function(){c("body").append(this.render()),this.$element=c("#"+this.options.id),this.$element.find("[data-am-share-close]").on("click.share.amui",function(){a.close()})},this)),g.on("click.share.amui",h,c.proxy(function(e){var a=c(e.target),v=a.is(h)&&a||a.parent(h),g=v.attr("data-am-share-to");"mail"!==g&&"sms"!==g&&(e.preventDefault(),this.shareTo(g,this.setData(g))),this.close()},this)),this.inited=!0}},w.prototype.open=function(){!this.inited&&this.init(),this.$element&&this.$element.modal("open"),this.$element.trigger("open:share:amui"),this.active=!0},w.prototype.close=function(){this.$element&&this.$element.modal("close"),this.$element.trigger("close:share:amui"),this.active=!1},w.prototype.toggle=function(){this.active?this.close():this.open()},w.prototype.setData=function(a){if(a){var c={url:v.location,title:v.title},h=this.options.desc,g=this.pics||[],w=/^(qzone|qq|tqq)$/;if(w.test(a)&&!g.length){for(var y=v.images,i=0;i<y.length&&10>i;i++)!!y[i].src&&g.push(encodeURIComponent(y[i].src));this.pics=g}switch(a){case"qzone":c.desc=h,c.site=this.options.via,c.pics=g.join("|");break;case"qq":c.desc=h,c.site=this.options.via,c.pics=g[0];break;case"tqq":c.pic=g.join("|")}return c}},w.prototype.shareTo=function(a,c){var h=w.SNS[a];if(h){if("wechat"===a||"weixin"===a)return this.wechatQr();var v=[];for(var g in c)c[g]&&v.push(g.toString()+"="+("pic"===g||"pics"===g?c[g]:encodeURIComponent(c[g])));window.open(h.url+"?"+v.join("&"))}},w.prototype.wechatQr=function(){if(!this.$wechatQr){var g=h.utils.generateGUID("am-share-wechat"),w=c('<div class="am-modal am-modal-no-btn am-share-wechat-qr"><div class="am-modal-dialog"><div class="am-modal-hd">分享到微信 <a href="" class="am-close am-close-spin" data-am-modal-close>&times;</a> </div><div class="am-modal-bd"><div class="am-share-wx-qr"></div><div class="am-share-wechat-tip">打开微信，点击底部的<em>发现</em>，<br/> 使用<em>扫一扫</em>将网页分享至朋友圈</div></div></div></div>',{id:g}),y=new a({render:"canvas",correctLevel:0,text:v.location.href,width:180,height:180,background:"#fff",foreground:"#000"});w.find(".am-share-wx-qr").html(y),w.appendTo(c("body")),this.$wechatQr=c("#"+g)}this.$wechatQr.modal("open")};var y=new w;g.on("click.share.amui",'[data-am-toggle="share"]',function(e){e.preventDefault(),y.toggle()}),h.share=y,module.exports=y}),define("ui.smooth-scroll",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require){"use strict";var a=require("core"),c=a.utils.rAF,h=window.Zepto,v=!1;h.fn.smoothScroll=function(a){function h(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}function g(){b.off("touchstart.smoothscroll.amui",A),v=!1}a=a||{};var w,t,y,b=this,T=parseInt(a.position)||0,E=b.scrollTop(),C=E,S=T-E,k=a.speed||Math.min(750,Math.min(1500,Math.abs(E-T))),A=function(){g()};v||0!==S&&(b.on("touchstart.smoothscroll.amui",A),v=!0,c(function P(a){v&&(w||(w=a),t=Math.min(1,Math.max((a-w)/k,0)),y=Math.round(E+S*h(t)),S>0&&y>T&&(y=T),0>S&&T>y&&(y=T),C!=y&&b.scrollTop(y),C=y,y!==T?c(P):g())}))},h(document).on("click.smoothScroll.amui","[data-am-smooth-scroll]",function(e){e.preventDefault();var c=a.utils.parseOptions(h(this).attr("data-am-smooth-scroll"));h(window).smoothScroll(c)})}),define("ui.sticky",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var h=c(this),g=h.data("am.sticky"),w="object"==typeof a&&a;g||h.data("am.sticky",g=new v(this,w)),"string"==typeof a&&g[a]()})}require("core");var c=window.Zepto,h=c.AMUI,v=function(a,g){var w=this;this.options=c.extend({},v.DEFAULTS,g),this.$element=c(a),this.sticked=null,this.inited=null,this.$holder=void 0,this.$window=c(window).on("scroll.sticky.amui",h.utils.debounce(c.proxy(this.checkPosition,this),10)).on("resize.sticky.amui orientationchange.sticky.amui",h.utils.debounce(function(){w.reset(!0,function(){w.checkPosition()})},50)).on("load.sticky.amui",c.proxy(this.checkPosition,this)),this.offset=this.$element.offset(),this.init()};v.DEFAULTS={top:0,bottom:0,animation:"",className:{sticky:"am-sticky",resetting:"am-sticky-resetting",stickyBtm:"am-sticky-bottom",animationRev:"am-animation-reverse"}},v.prototype.init=function(){var a=this.check();if(!a)return!1;var h=this.$element,v=c('<div class="am-sticky-placeholder"></div>').css({height:"absolute"!=h.css("position")?h.outerHeight():"","float":"none"!=h.css("float")?h.css("float"):"",margin:h.css("margin")});return this.$holder=h.css("margin",0).wrap(v).parent(),this.inited=1,!0},v.prototype.reset=function(a,c){var v=this.options,g=this.$element,w=v.animation?" am-animation-"+v.animation:"",y=function(){g.css({position:"",top:"",width:"",left:"",margin:0}),g.removeClass([w,v.className.animationRev,v.className.sticky,v.className.resetting].join(" ")),this.animating=!1,this.sticked=!1,this.offset=g.offset(),c&&c()}.bind(this);g.addClass(v.className.resetting),!a&&v.animation&&h.support.animation?(this.animating=!0,g.removeClass(w).one(h.support.animation.end,function(){y()}).width(),g.addClass(w+" "+v.className.animationRev)):y()},v.prototype.check=function(){if(!this.$element.is(":visible"))return!1;var a=this.options.media;if(a)switch(typeof a){case"number":if(window.innerWidth<a)return!1;break;case"string":if(window.matchMedia&&!window.matchMedia(a).matches)return!1}return!0},v.prototype.checkPosition=function(){if(!this.inited){var a=this.init();if(!a)return}var c=this.options,h=this.$window.scrollTop(),v=c.top,g=c.bottom,w=this.$element,y=c.animation?" am-animation-"+c.animation:"",b=[c.className.sticky,y].join(" ");"function"==typeof g&&(g=g(this.$element));var T=h>this.$holder.offset().top;!this.sticked&&T?w.addClass(b):this.sticked&&!T&&this.reset(),this.$holder.height(w.height()),T&&w.css({top:v,left:this.$holder.offset().left,width:this.offset.width}),this.sticked=T},c.fn.sticky=a,c(window).on("load",function(){c("[data-am-sticky]").each(function(){var v=c(this),g=h.utils.options(v.attr("data-am-sticky"));a.call(v,g)})}),h.sticky=v,module.exports=v}),define("ui.tabs",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","util.hammer"],function(require,exports,module){"use strict";function a(a){return this.each(function(){var c=h(this),v=c.is(".am-tabs")&&c||c.closest(".am-tabs"),g=v.data("amui.tabs");g||v.data("amui.tabs",g=new y(v[0])),"string"==typeof a&&c.is(".am-tabs-nav a")&&g[a](c)})}require("core");var c=require("util.hammer"),h=window.Zepto,v=h.AMUI,g=v.support.transition,w=v.support.animation,y=function(a,c){this.$element=h(a),this.options=h.extend({},y.DEFAULTS,c||{}),this.$tabNav=this.$element.find(this.options.selector.nav),this.$navs=this.$tabNav.find("a"),this.$content=this.$element.find(this.options.selector.content),this.$tabPanels=this.$content.find(this.options.selector.panel),this.transitioning=null,this.init()};y.DEFAULTS={selector:{nav:".am-tabs-nav",content:".am-tabs-bd",panel:".am-tab-panel"},className:{active:"am-active"}},y.prototype.init=function(){var a=this,g=this.options;if(1!==this.$tabNav.find("> .am-active").length){var w=this.$tabNav;this.activate(w.children("li").first(),w),this.activate(this.$tabPanels.first(),this.$content)}this.$navs.on("click.tabs.amui",function(e){e.preventDefault(),a.open(h(this))});var y=new c(this.$content[0]);y.get("pan").set({direction:c.DIRECTION_HORIZONTAL,threshold:60}),y.on("panleft",v.utils.debounce(function(e){e.preventDefault();var c=h(e.target);c.is(g.selector.panel)||(c=c.closest(g.selector.panel)),c.focus();var v=a.getNextNav(c);v&&a.open(v)},100)),y.on("panright",v.utils.debounce(function(e){e.preventDefault();var c=h(e.target);c.is(g.selector.panel)||(c=c.closest(g.selector.panel));var v=a.getPrevNav(c);v&&a.open(v)},100))},y.prototype.open=function(a){if(a&&!this.transitioning&&!a.parent("li").hasClass("am-active")){var c=this.$tabNav,v=this.$navs,g=this.$content,w=a.attr("href"),y=/^#.+$/,b=y.test(w)&&this.$content.find(w)||this.$tabPanels.eq(v.index(a)),T=c.find(".am-active a")[0],e=h.Event("open:tabs:amui",{relatedTarget:T});a.trigger(e),e.isDefaultPrevented()||(this.activate(a.closest("li"),c),this.activate(b,g,function(){a.trigger({type:"opened:tabs:amui",relatedTarget:T})}))}},y.prototype.activate=function(a,c,v){function w(){v&&v(),this.transitioning=!1}this.transitioning=!0;var y=c.find("> .am-active"),b=v&&g&&!!y.length;y.removeClass("am-active am-in"),a.addClass("am-active"),b?(a.redraw(),a.addClass("am-in")):a.removeClass("am-fade"),b?y.one(g.end,h.proxy(w,this)):h.proxy(w,this)()},y.prototype.getNextNav=function(a){var c=this.$tabPanels.index(a),h="am-animation-right-spring";return c+1>=this.$navs.length?(w&&a.addClass(h).on(w.end,function(){a.removeClass(h)}),null):this.$navs.eq(c+1)},y.prototype.getPrevNav=function(a){var c=this.$tabPanels.index(a),h="am-animation-left-spring";return 0===c?(w&&a.addClass(h).on(w.end,function(){a.removeClass(h)}),null):this.$navs.eq(c-1)},h.fn.tabs=a,h(document).on("ready",function(){h("[data-am-tabs]").tabs()}),v.tabs=y,module.exports=y}),define("util.cookie",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";require("core");var a=window.Zepto,c=a.AMUI,h={get:function(a){var c,h=encodeURIComponent(a)+"=",v=document.cookie.indexOf(h),g=null;return v>-1&&(c=document.cookie.indexOf(";",v),-1==c&&(c=document.cookie.length),g=decodeURIComponent(document.cookie.substring(v+h.length,c))),g},set:function(a,c,h,v,g,w){var y=encodeURIComponent(a)+"="+encodeURIComponent(c);h instanceof Date&&(y+="; expires="+h.toGMTString()),v&&(y+="; path="+v),g&&(y+="; domain="+g),w&&(y+="; secure"),document.cookie=y},unset:function(a,c,h,v){this.set(a,"",new Date(0),c,h,v)}};c.utils.cookie=h,module.exports=h}),define("util.fullscreen",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports,module){"use strict";require("core");var a=window.Zepto,c=a.AMUI,h="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,v=function(){for(var a,c,h=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=h.length,v={};l>i;i++)if(a=h[i],a&&a[1]in document){for(i=0,c=a.length;c>i;i++)v[h[0][i]]=a[i];return v}return!1}(),g={request:function(a){var c=v.requestFullscreen;a=a||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[c]():a[c](h&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[v.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(){},onerror:function(){},raw:v};return v?(Object.defineProperties(g,{isFullscreen:{get:function(){return!!document[v.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[v.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[v.fullscreenEnabled]}}}),document.addEventListener(v.fullscreenchange,function(e){g.onchange.call(g,e)}),document.addEventListener(v.fullscreenerror,function(e){g.onerror.call(g,e)}),c.fullscreen=g,void(module.exports=g)):void(module.exports=!1)}),define("util.qrcode",[],function(require,exports,module){function a(a){return 128>a?[a]:2048>a?(c0=192+(a>>6),c1=128+(63&a),[c0,c1]):(c0=224+(a>>12),c1=128+(a>>6&63),c2=128+(63&a),[c0,c1,c2])}function c(c){for(var h=[],i=0;i<c.length;i++)for(var v=c.charCodeAt(i),g=a(v),w=0;w<g.length;w++)h.push(g[w]);return h}function h(a,h){this.typeNumber=-1,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=a,this.utf8bytes=c(a),this.make()}function v(a,c){if(void 0==a.length)throw new Error(a.length+"/"+c);for(var h=0;h<a.length&&0==a[h];)h++;this.num=new Array(a.length-h+c);for(var i=0;i<a.length-h;i++)this.num[i]=a[i+h]}function g(){this.buffer=new Array,this.length=0}function a(a){return 128>a?[a]:2048>a?(c0=192+(a>>6),c1=128+(63&a),[c0,c1]):(c0=224+(a>>12),c1=128+(a>>6&63),c2=128+(63&a),[c0,c1,c2])}function c(c){for(var h=[],i=0;i<c.length;i++)for(var v=c.charCodeAt(i),g=a(v),w=0;w<g.length;w++)h.push(g[w]);return h}function h(a,h){this.typeNumber=-1,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=a,this.utf8bytes=c(a),this.make()}function v(a,c){if(void 0==a.length)throw new Error(a.length+"/"+c);for(var h=0;h<a.length&&0==a[h];)h++;this.num=new Array(a.length-h+c);for(var i=0;i<a.length-h;i++)this.num[i]=a[i+h]}function g(){this.buffer=new Array,this.length=0}var w=Zepto,y=[],b=function(a){"string"==typeof a&&(a={text:a}),this.options=w.extend({},{text:"",render:"",width:256,height:256,correctLevel:3,background:"#ffffff",foreground:"#000000"},a);for(var c=null,i=0,l=y.length;l>i;i++)if(y[i].text==this.options.text&&y[i].text.correctLevel==this.options.correctLevel){c=y[i].obj;break}if(i==l&&(c=new h(this.options.text,this.options.correctLevel),y.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:c})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(c);case"table":return this.createTable(c);case"svg":return this.createSVG(c);default:return this.createDefault(c)}return this.createDefault(c)};b.prototype.createDefault=function(a){var c=document.createElement("canvas");return c.getContext?this.createCanvas(a):document.createElementNS&&document.createElementNS(SVG_NS,"svg").createSVGRect?this.createSVG(a):this.createTable(a)},b.prototype.createCanvas=function(a){var c=document.createElement("canvas");c.width=this.options.width,c.height=this.options.height;for(var h=c.getContext("2d"),v=(this.options.width/a.getModuleCount()).toPrecision(4),g=this.options.height/a.getModuleCount().toPrecision(4),w=0;w<a.getModuleCount();w++)for(var y=0;y<a.getModuleCount();y++){h.fillStyle=a.modules[w][y]?this.options.foreground:this.options.background;var b=Math.ceil((y+1)*v)-Math.floor(y*v),T=Math.ceil((w+1)*v)-Math.floor(w*v);h.fillRect(Math.round(y*v),Math.round(w*g),b,T)}return c},b.prototype.createTable=function(a){var s=[];s.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color: '+this.options.background+';">');var c=-1,h=-1,v=-1,g=-1;c=v=Math.floor(this.options.width/a.getModuleCount()),h=g=Math.floor(this.options.height/a.getModuleCount()),0>=v&&(c=a.getModuleCount()<80?2:1),0>=g&&(h=a.getModuleCount()<80?2:1),foreTd='<td style="border:0px; margin:0px; padding:0px; width:'+c+"px; background-color: "+this.options.foreground+'"></td>',backTd='<td style="border:0px; margin:0px; padding:0px; width:'+c+"px; background-color: "+this.options.background+'"></td>',l=a.getModuleCount();for(var w=0;l>w;w++){s.push('<tr style="border:0px; margin:0px; padding:0px; height: '+h+'px">');for(var y=0;l>y;y++)s.push(a.modules[w][y]?foreTd:backTd);s.push("</tr>")}s.push("</table>");var b=document.createElement("span");return b.innerHTML=s.join(""),b.firstChild},b.prototype.createSVG=function(a){for(var x,c,h,v,g=a.getModuleCount(),y=this.options.height/this.options.width,b='<svg xmlns="http://www.w3.org/2000/svg" width="'+this.options.width+'px" height="'+this.options.height+'px" viewbox="0 0 '+10*g+" "+10*g*y+'">',T="<path ",E=' style="stroke-width:0.5;stroke:'+this.options.foreground+";fill:"+this.options.foreground+';"></path>',C=' style="stroke-width:0.5;stroke:'+this.options.background+";fill:"+this.options.background+';"></path>',S=0;g>S;S++)for(var k=0;g>k;k++)x=10*k,h=10*S*y,c=10*(k+1),v=10*(S+1)*y,b+=T+'d="M '+x+","+h+" L "+c+","+h+" L "+c+","+v+" L "+x+","+v+' Z"',b+=a.modules[S][k]?E:C;return b+="</svg>",w(b)[0]},module.exports=b,h.prototype={constructor:h,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(a){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++)this.modules[c]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,a),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,a)},setupPositionProbePattern:function(a,c){for(var r=-1;7>=r;r++)if(!(-1>=a+r||this.moduleCount<=a+r))for(var h=-1;7>=h;h++)-1>=c+h||this.moduleCount<=c+h||(this.modules[a+r][c+h]=r>=0&&6>=r&&(0==h||6==h)||h>=0&&6>=h&&(0==r||6==r)||r>=2&&4>=r&&h>=2&&4>=h?!0:!1)},createQrcode:function(){for(var a=0,c=0,h=null,i=0;8>i;i++){this.makeImpl(i);var v=C.getLostPoint(this);(0==i||a>v)&&(a=v,c=i,h=this.modules)}this.modules=h,this.setupTypeInfo(!1,c),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++)null==this.modules[r][6]&&(this.modules[r][6]=r%2==0,null==this.modules[6][r]&&(this.modules[6][r]=r%2==0))},setupPositionAdjustPattern:function(){for(var a=C.getPatternPosition(this.typeNumber),i=0;i<a.length;i++)for(var c=0;c<a.length;c++){var h=a[i],v=a[c];if(null==this.modules[h][v])for(var r=-2;2>=r;r++)for(var g=-2;2>=g;g++)this.modules[h+r][v+g]=-2==r||2==r||-2==g||2==g||0==r&&0==g?!0:!1}},setupTypeNumber:function(a){for(var c=C.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var mod=!a&&1==(c>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod}},setupTypeInfo:function(a,c){for(var h=T[this.errorCorrectLevel]<<3|c,v=C.getBCHTypeInfo(h),i=0;15>i;i++){var mod=!a&&1==(v>>i&1);6>i?this.modules[i][8]=mod:8>i?this.modules[i+1][8]=mod:this.modules[this.moduleCount-15+i][8]=mod;var mod=!a&&1==(v>>i&1);8>i?this.modules[8][this.moduleCount-i-1]=mod:9>i?this.modules[8][15-i-1+1]=mod:this.modules[8][15-i-1]=mod}this.modules[this.moduleCount-8][8]=!a},createData:function(){var a=new g,c=this.typeNumber>9?16:8;a.put(4,4),a.put(this.utf8bytes.length,c);for(var i=0,l=this.utf8bytes.length;l>i;i++)a.put(this.utf8bytes[i],8);for(a.length+4<=8*this.totalDataCount&&a.put(0,4);a.length%8!=0;)a.putBit(!1);for(;;){if(a.length>=8*this.totalDataCount)break;if(a.put(h.PAD0,8),a.length>=8*this.totalDataCount)break;a.put(h.PAD1,8)}return this.createBytes(a)},createBytes:function(a){for(var c=0,h=0,g=0,w=this.rsBlock.length/3,y=new Array,i=0;w>i;i++)for(var b=this.rsBlock[3*i+0],T=this.rsBlock[3*i+1],E=this.rsBlock[3*i+2],S=0;b>S;S++)y.push([E,T]);for(var k=new Array(y.length),A=new Array(y.length),r=0;r<y.length;r++){var P=y[r][0],z=y[r][1]-P;h=Math.max(h,P),g=Math.max(g,z),k[r]=new Array(P);for(var i=0;i<k[r].length;i++)k[r][i]=255&a.buffer[i+c];c+=P;var D=C.getErrorCorrectPolynomial(z),N=new v(k[r],D.getLength()-1),M=N.mod(D);A[r]=new Array(D.getLength()-1);for(var i=0;i<A[r].length;i++){var L=i+M.getLength()-A[r].length;A[r][i]=L>=0?M.get(L):0}}for(var I=new Array(this.totalDataCount),$=0,i=0;h>i;i++)for(var r=0;r<y.length;r++)i<k[r].length&&(I[$++]=k[r][i]);for(var i=0;g>i;i++)for(var r=0;r<y.length;r++)i<A[r].length&&(I[$++]=A[r][i]);return I},mapData:function(a,c){for(var h=-1,v=this.moduleCount-1,g=7,w=0,y=this.moduleCount-1;y>0;y-=2)for(6==y&&y--;;){for(var b=0;2>b;b++)if(null==this.modules[v][y-b]){var T=!1;w<a.length&&(T=1==(a[w]>>>g&1));var E=C.getMask(c,v,y-b);E&&(T=!T),this.modules[v][y-b]=T,g--,-1==g&&(w++,g=7)}if(v+=h,0>v||this.moduleCount<=v){v-=h,h=-h;break}}}},h.PAD0=236,h.PAD1=17;for(var T=[1,0,3,2],E={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},C={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var d=a<<10;C.getBCHDigit(d)-C.getBCHDigit(C.G15)>=0;)d^=C.G15<<C.getBCHDigit(d)-C.getBCHDigit(C.G15);return(a<<10|d)^C.G15_MASK},getBCHTypeNumber:function(a){for(var d=a<<12;C.getBCHDigit(d)-C.getBCHDigit(C.G18)>=0;)d^=C.G18<<C.getBCHDigit(d)-C.getBCHDigit(C.G18);return a<<12|d},getBCHDigit:function(a){for(var c=0;0!=a;)c++,a>>>=1;return c},getPatternPosition:function(a){return C.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,i,c){switch(a){case E.PATTERN000:return(i+c)%2==0;case E.PATTERN001:return i%2==0;case E.PATTERN010:return c%3==0;case E.PATTERN011:return(i+c)%3==0;case E.PATTERN100:return(Math.floor(i/2)+Math.floor(c/3))%2==0;case E.PATTERN101:return i*c%2+i*c%3==0;case E.PATTERN110:return(i*c%2+i*c%3)%2==0;case E.PATTERN111:return(i*c%3+(i+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var c=new v([1],0),i=0;a>i;i++)c=c.multiply(new v([1,S.gexp(i)],0));return c},getLostPoint:function(a){for(var c=a.getModuleCount(),h=0,v=0,g=0;c>g;g++)for(var w=0,y=a.modules[g][0],b=0;c>b;b++){var T=a.modules[g][b];if(c-6>b&&T&&!a.modules[g][b+1]&&a.modules[g][b+2]&&a.modules[g][b+3]&&a.modules[g][b+4]&&!a.modules[g][b+5]&&a.modules[g][b+6]&&(c-10>b?a.modules[g][b+7]&&a.modules[g][b+8]&&a.modules[g][b+9]&&a.modules[g][b+10]&&(h+=40):b>3&&a.modules[g][b-1]&&a.modules[g][b-2]&&a.modules[g][b-3]&&a.modules[g][b-4]&&(h+=40)),c-1>g&&c-1>b){var E=0;T&&E++,a.modules[g+1][b]&&E++,a.modules[g][b+1]&&E++,a.modules[g+1][b+1]&&E++,(0==E||4==E)&&(h+=3)}y^T?w++:(y=T,w>=5&&(h+=3+w-5),w=1),T&&v++}for(var b=0;c>b;b++)for(var w=0,y=a.modules[0][b],g=0;c>g;g++){var T=a.modules[g][b];c-6>g&&T&&!a.modules[g+1][b]&&a.modules[g+2][b]&&a.modules[g+3][b]&&a.modules[g+4][b]&&!a.modules[g+5][b]&&a.modules[g+6][b]&&(c-10>g?a.modules[g+7][b]&&a.modules[g+8][b]&&a.modules[g+9][b]&&a.modules[g+10][b]&&(h+=40):g>3&&a.modules[g-1][b]&&a.modules[g-2][b]&&a.modules[g-3][b]&&a.modules[g-4][b]&&(h+=40)),y^T?w++:(y=T,w>=5&&(h+=3+w-5),w=1)}var C=Math.abs(100*v/c/c-50)/5;return h+=10*C}},S={glog:function(n){if(1>n)throw new Error("glog("+n+")");return S.LOG_TABLE[n]},gexp:function(n){for(;0>n;)n+=255;for(;n>=256;)n-=255;return S.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;8>i;i++)S.EXP_TABLE[i]=1<<i;
for(var i=8;256>i;i++)S.EXP_TABLE[i]=S.EXP_TABLE[i-4]^S.EXP_TABLE[i-5]^S.EXP_TABLE[i-6]^S.EXP_TABLE[i-8];for(var i=0;255>i;i++)S.LOG_TABLE[S.EXP_TABLE[i]]=i;v.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(e){for(var a=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var c=0;c<e.getLength();c++)a[i+c]^=S.gexp(S.glog(this.get(i))+S.glog(e.get(c)));return new v(a,0)},mod:function(e){var a=this.getLength(),c=e.getLength();if(0>a-c)return this;for(var h=new Array(a),i=0;a>i;i++)h[i]=this.get(i);for(;h.length>=c;){for(var g=S.glog(h[0])-S.glog(e.get(0)),i=0;i<e.getLength();i++)h[i]^=S.gexp(S.glog(e.get(i))+g);for(;0==h[0];)h.shift()}return new v(h,0)}};var k=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];h.prototype.getRightType=function(){for(var a=1;41>a;a++){var c=k[4*(a-1)+this.errorCorrectLevel];if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var h=c.length/3,v=0,i=0;h>i;i++){var g=c[3*i+0],w=c[3*i+2];v+=w*g}var y=a>9?2:1;if(this.utf8bytes.length+y<v||40==a){this.typeNumber=a,this.rsBlock=c,this.totalDataCount=v;break}}},g.prototype={get:function(a){var c=Math.floor(a/8);return this.buffer[c]>>>7-a%8&1},put:function(a,c){for(var i=0;c>i;i++)this.putBit(a>>>c-i-1&1)},putBit:function(a){var c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0),a&&(this.buffer[c]|=128>>>this.length%8),this.length++}},h.prototype={constructor:h,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(a){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++)this.modules[c]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,a),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,a)},setupPositionProbePattern:function(a,c){for(var r=-1;7>=r;r++)if(!(-1>=a+r||this.moduleCount<=a+r))for(var h=-1;7>=h;h++)-1>=c+h||this.moduleCount<=c+h||(this.modules[a+r][c+h]=r>=0&&6>=r&&(0==h||6==h)||h>=0&&6>=h&&(0==r||6==r)||r>=2&&4>=r&&h>=2&&4>=h?!0:!1)},createQrcode:function(){for(var a=0,c=0,h=null,i=0;8>i;i++){this.makeImpl(i);var v=C.getLostPoint(this);(0==i||a>v)&&(a=v,c=i,h=this.modules)}this.modules=h,this.setupTypeInfo(!1,c),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++)null==this.modules[r][6]&&(this.modules[r][6]=r%2==0,null==this.modules[6][r]&&(this.modules[6][r]=r%2==0))},setupPositionAdjustPattern:function(){for(var a=C.getPatternPosition(this.typeNumber),i=0;i<a.length;i++)for(var c=0;c<a.length;c++){var h=a[i],v=a[c];if(null==this.modules[h][v])for(var r=-2;2>=r;r++)for(var g=-2;2>=g;g++)this.modules[h+r][v+g]=-2==r||2==r||-2==g||2==g||0==r&&0==g?!0:!1}},setupTypeNumber:function(a){for(var c=C.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var mod=!a&&1==(c>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod}},setupTypeInfo:function(a,c){for(var h=T[this.errorCorrectLevel]<<3|c,v=C.getBCHTypeInfo(h),i=0;15>i;i++){var mod=!a&&1==(v>>i&1);6>i?this.modules[i][8]=mod:8>i?this.modules[i+1][8]=mod:this.modules[this.moduleCount-15+i][8]=mod;var mod=!a&&1==(v>>i&1);8>i?this.modules[8][this.moduleCount-i-1]=mod:9>i?this.modules[8][15-i-1+1]=mod:this.modules[8][15-i-1]=mod}this.modules[this.moduleCount-8][8]=!a},createData:function(){var a=new g,c=this.typeNumber>9?16:8;a.put(4,4),a.put(this.utf8bytes.length,c);for(var i=0,l=this.utf8bytes.length;l>i;i++)a.put(this.utf8bytes[i],8);for(a.length+4<=8*this.totalDataCount&&a.put(0,4);a.length%8!=0;)a.putBit(!1);for(;;){if(a.length>=8*this.totalDataCount)break;if(a.put(h.PAD0,8),a.length>=8*this.totalDataCount)break;a.put(h.PAD1,8)}return this.createBytes(a)},createBytes:function(a){for(var c=0,h=0,g=0,w=this.rsBlock.length/3,y=new Array,i=0;w>i;i++)for(var b=this.rsBlock[3*i+0],T=this.rsBlock[3*i+1],E=this.rsBlock[3*i+2],S=0;b>S;S++)y.push([E,T]);for(var k=new Array(y.length),A=new Array(y.length),r=0;r<y.length;r++){var P=y[r][0],z=y[r][1]-P;h=Math.max(h,P),g=Math.max(g,z),k[r]=new Array(P);for(var i=0;i<k[r].length;i++)k[r][i]=255&a.buffer[i+c];c+=P;var D=C.getErrorCorrectPolynomial(z),N=new v(k[r],D.getLength()-1),M=N.mod(D);A[r]=new Array(D.getLength()-1);for(var i=0;i<A[r].length;i++){var L=i+M.getLength()-A[r].length;A[r][i]=L>=0?M.get(L):0}}for(var I=new Array(this.totalDataCount),$=0,i=0;h>i;i++)for(var r=0;r<y.length;r++)i<k[r].length&&(I[$++]=k[r][i]);for(var i=0;g>i;i++)for(var r=0;r<y.length;r++)i<A[r].length&&(I[$++]=A[r][i]);return I},mapData:function(a,c){for(var h=-1,v=this.moduleCount-1,g=7,w=0,y=this.moduleCount-1;y>0;y-=2)for(6==y&&y--;;){for(var b=0;2>b;b++)if(null==this.modules[v][y-b]){var T=!1;w<a.length&&(T=1==(a[w]>>>g&1));var E=C.getMask(c,v,y-b);E&&(T=!T),this.modules[v][y-b]=T,g--,-1==g&&(w++,g=7)}if(v+=h,0>v||this.moduleCount<=v){v-=h,h=-h;break}}}},h.PAD0=236,h.PAD1=17;for(var T=[1,0,3,2],E={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},C={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var d=a<<10;C.getBCHDigit(d)-C.getBCHDigit(C.G15)>=0;)d^=C.G15<<C.getBCHDigit(d)-C.getBCHDigit(C.G15);return(a<<10|d)^C.G15_MASK},getBCHTypeNumber:function(a){for(var d=a<<12;C.getBCHDigit(d)-C.getBCHDigit(C.G18)>=0;)d^=C.G18<<C.getBCHDigit(d)-C.getBCHDigit(C.G18);return a<<12|d},getBCHDigit:function(a){for(var c=0;0!=a;)c++,a>>>=1;return c},getPatternPosition:function(a){return C.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,i,c){switch(a){case E.PATTERN000:return(i+c)%2==0;case E.PATTERN001:return i%2==0;case E.PATTERN010:return c%3==0;case E.PATTERN011:return(i+c)%3==0;case E.PATTERN100:return(Math.floor(i/2)+Math.floor(c/3))%2==0;case E.PATTERN101:return i*c%2+i*c%3==0;case E.PATTERN110:return(i*c%2+i*c%3)%2==0;case E.PATTERN111:return(i*c%3+(i+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var c=new v([1],0),i=0;a>i;i++)c=c.multiply(new v([1,S.gexp(i)],0));return c},getLostPoint:function(a){for(var c=a.getModuleCount(),h=0,v=0,g=0;c>g;g++)for(var w=0,y=a.modules[g][0],b=0;c>b;b++){var T=a.modules[g][b];if(c-6>b&&T&&!a.modules[g][b+1]&&a.modules[g][b+2]&&a.modules[g][b+3]&&a.modules[g][b+4]&&!a.modules[g][b+5]&&a.modules[g][b+6]&&(c-10>b?a.modules[g][b+7]&&a.modules[g][b+8]&&a.modules[g][b+9]&&a.modules[g][b+10]&&(h+=40):b>3&&a.modules[g][b-1]&&a.modules[g][b-2]&&a.modules[g][b-3]&&a.modules[g][b-4]&&(h+=40)),c-1>g&&c-1>b){var E=0;T&&E++,a.modules[g+1][b]&&E++,a.modules[g][b+1]&&E++,a.modules[g+1][b+1]&&E++,(0==E||4==E)&&(h+=3)}y^T?w++:(y=T,w>=5&&(h+=3+w-5),w=1),T&&v++}for(var b=0;c>b;b++)for(var w=0,y=a.modules[0][b],g=0;c>g;g++){var T=a.modules[g][b];c-6>g&&T&&!a.modules[g+1][b]&&a.modules[g+2][b]&&a.modules[g+3][b]&&a.modules[g+4][b]&&!a.modules[g+5][b]&&a.modules[g+6][b]&&(c-10>g?a.modules[g+7][b]&&a.modules[g+8][b]&&a.modules[g+9][b]&&a.modules[g+10][b]&&(h+=40):g>3&&a.modules[g-1][b]&&a.modules[g-2][b]&&a.modules[g-3][b]&&a.modules[g-4][b]&&(h+=40)),y^T?w++:(y=T,w>=5&&(h+=3+w-5),w=1)}var C=Math.abs(100*v/c/c-50)/5;return h+=10*C}},S={glog:function(n){if(1>n)throw new Error("glog("+n+")");return S.LOG_TABLE[n]},gexp:function(n){for(;0>n;)n+=255;for(;n>=256;)n-=255;return S.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;8>i;i++)S.EXP_TABLE[i]=1<<i;for(var i=8;256>i;i++)S.EXP_TABLE[i]=S.EXP_TABLE[i-4]^S.EXP_TABLE[i-5]^S.EXP_TABLE[i-6]^S.EXP_TABLE[i-8];for(var i=0;255>i;i++)S.LOG_TABLE[S.EXP_TABLE[i]]=i;v.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(e){for(var a=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var c=0;c<e.getLength();c++)a[i+c]^=S.gexp(S.glog(this.get(i))+S.glog(e.get(c)));return new v(a,0)},mod:function(e){var a=this.getLength(),c=e.getLength();if(0>a-c)return this;for(var h=new Array(a),i=0;a>i;i++)h[i]=this.get(i);for(;h.length>=c;){for(var g=S.glog(h[0])-S.glog(e.get(0)),i=0;i<e.getLength();i++)h[i]^=S.gexp(S.glog(e.get(i))+g);for(;0==h[0];)h.shift()}return new v(h,0)}},k=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.prototype.getRightType=function(){for(var a=1;41>a;a++){var c=k[4*(a-1)+this.errorCorrectLevel];if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var h=c.length/3,v=0,i=0;h>i;i++){var g=c[3*i+0],w=c[3*i+2];v+=w*g}var y=a>9?2:1;if(this.utf8bytes.length+y<v||40==a){this.typeNumber=a,this.rsBlock=c,this.totalDataCount=v;break}}},g.prototype={get:function(a){var c=Math.floor(a/8);return this.buffer[c]>>>7-a%8&1},put:function(a,c){for(var i=0;c>i;i++)this.putBit(a>>>c-i-1&1)},putBit:function(a){var c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0),a&&(this.buffer[c]|=128>>>this.length%8),this.length++}}}),define("zepto.flexslider",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require){var a=window.Zepto;require("core"),require("zepto.extend.data"),a.data=function(c,h,v){return a(c).data(h,v)},["Left","Top"].forEach(function(c,i){function h(a){return a&&"object"==typeof a&&"setInterval"in a}function v(a){return h(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var g="scroll"+c;a.fn[g]=function(c){var h,w;return void 0===c?(h=this[0])?(w=v(h),w?"pageXOffset"in w?w[i?"pageYOffset":"pageXOffset"]:w.document.documentElement[g]||w.document.body[g]:h[g]):null:void this.each(function(){if(w=v(this)){var h=i?a(w).scrollLeft():c,y=i?c:a(w).scrollTop();w.scrollTo(h,y)}else this[g]=c})}}),["width","height"].forEach(function(c){var h=c.replace(/./,function(m){return m[0].toUpperCase()});a.fn["outer"+h]=function(a){var h=this;if(h){var v=h[c](),g={width:["left","right"],height:["top","bottom"]};return g[c].forEach(function(c){a&&(v+=parseInt(h.css("margin-"+c),10))}),v}return null}}),a.flexslider=function(c,h){var v=a(c);v.vars=a.extend({},a.flexslider.defaults,h);var g,w=v.vars.namespace,y=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,b=("ontouchstart"in window||y||window.DocumentTouch&&document instanceof DocumentTouch)&&v.vars.touch,T="click touchend MSPointerUp keyup",E="",C="vertical"===v.vars.direction,S=v.vars.reverse,k=v.vars.itemWidth>0,A="fade"===v.vars.animation,P=""!==v.vars.asNavFor,z={},D=!0;a.data(c,"flexslider",v),z={init:function(){v.animating=!1,v.currentSlide=parseInt(v.vars.startAt?v.vars.startAt:0,10),isNaN(v.currentSlide)&&(v.currentSlide=0),v.animatingTo=v.currentSlide,v.atEnd=0===v.currentSlide||v.currentSlide===v.last,v.containerSelector=v.vars.selector.substr(0,v.vars.selector.search(" ")),v.slides=a(v.vars.selector,v),v.container=a(v.containerSelector,v),v.count=v.slides.length,v.syncExists=a(v.vars.sync).length>0,"slide"===v.vars.animation&&(v.vars.animation="swing"),v.prop=C?"top":"marginLeft",v.args={},v.manualPause=!1,v.stopped=!1,v.started=!1,v.startTimeout=null,v.transitions=!v.vars.video&&!A&&v.vars.useCSS&&function(){var a=document.createElement("div"),c=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in c)if(void 0!==a.style[c[i]])return v.pfx=c[i].replace("Perspective","").toLowerCase(),v.prop="-"+v.pfx+"-transform",!0;return!1}(),v.ensureAnimationEnd="",""!==v.vars.controlsContainer&&(v.controlsContainer=a(v.vars.controlsContainer).length>0&&a(v.vars.controlsContainer)),""!==v.vars.manualControls&&(v.manualControls=a(v.vars.manualControls).length>0&&a(v.vars.manualControls)),v.vars.randomize&&(v.slides.sort(function(){return Math.round(Math.random())-.5}),v.container.empty().append(v.slides)),v.doMath(),v.setup("init"),v.vars.controlNav&&z.controlNav.setup(),v.vars.directionNav&&z.directionNav.setup(),v.vars.keyboard&&(1===a(v.containerSelector).length||v.vars.multipleKeyboard)&&a(document).bind("keyup",function(a){var c=a.keyCode;if(!v.animating&&(39===c||37===c)){var h=39===c?v.getTarget("next"):37===c?v.getTarget("prev"):!1;v.flexAnimate(h,v.vars.pauseOnAction)}}),v.vars.mousewheel&&v.bind("mousewheel",function(a,c){a.preventDefault();var h=v.getTarget(0>c?"next":"prev");v.flexAnimate(h,v.vars.pauseOnAction)}),v.vars.pausePlay&&z.pausePlay.setup(),v.vars.slideshow&&v.vars.pauseInvisible&&z.pauseInvisible.init(),v.vars.slideshow&&(v.vars.pauseOnHover&&(v.on("mouseover",function(){v.manualPlay||v.manualPause||v.pause()}),v.on("mouseout",function(){v.manualPause||v.manualPlay||v.stopped||v.play()})),v.vars.pauseInvisible&&z.pauseInvisible.isHidden()||(v.vars.initDelay>0?v.startTimeout=setTimeout(v.play,v.vars.initDelay):v.play())),P&&z.asNav.setup(),b&&v.vars.touch&&z.touch(),(!A||A&&v.vars.smoothHeight)&&a(window).bind("resize orientationchange focus",z.resize),v.find("img").attr("draggable","false"),setTimeout(function(){v.vars.start(v)},200)},asNav:{setup:function(){v.asNav=!0,v.animatingTo=Math.floor(v.currentSlide/v.move),v.currentItem=v.currentSlide,v.slides.removeClass(w+"active-slide").eq(v.currentItem).addClass(w+"active-slide"),y?(c._slider=v,v.slides.each(function(){var c=this;c._gesture=new MSGesture,c._gesture.target=c,c.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),c.addEventListener("MSGestureTap",function(e){e.preventDefault();var c=a(this),h=c.index();a(v.vars.asNavFor).data("flexslider").animating||c.hasClass("active")||(v.direction=v.currentItem<h?"next":"prev",v.flexAnimate(h,v.vars.pauseOnAction,!1,!0,!0))})})):v.slides.on(T,function(e){e.preventDefault();var c=a(this),h=c.index(),g=c.offset().left-a(v).scrollLeft();0>=g&&c.hasClass(w+"active-slide")?v.flexAnimate(v.getTarget("prev"),!0):a(v.vars.asNavFor).data("flexslider").animating||c.hasClass(w+"active-slide")||(v.direction=v.currentItem<h?"next":"prev",v.flexAnimate(h,v.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){v.manualControls?z.controlNav.setupManual():z.controlNav.setupPaging()},setupPaging:function(){var c,h,g="thumbnails"===v.vars.controlNav?"control-thumbs":"control-paging",y=1;if(v.controlNavScaffold=a('<ol class="'+w+"control-nav "+w+g+'"></ol>'),v.pagingCount>1)for(var i=0;i<v.pagingCount;i++){if(h=v.slides.eq(i),c="thumbnails"===v.vars.controlNav?'<img src="'+h.attr("data-thumb")+'"/>':"<a>"+y+"</a>","thumbnails"===v.vars.controlNav&&!0===v.vars.thumbCaptions){var b=h.attr("data-thumbcaption");""!=b&&void 0!=b&&(c+='<span class="'+w+'caption">'+b+"</span>")}v.controlNavScaffold.append("<li>"+c+"<i></i></li>"),y++}v.controlsContainer?a(v.controlsContainer).append(v.controlNavScaffold):v.append(v.controlNavScaffold),z.controlNav.set(),z.controlNav.active(),v.controlNavScaffold.delegate("a, img",T,function(c){if(c.preventDefault(),""===E||E===c.type){var h=a(this),g=v.controlNav.index(h);h.hasClass(w+"active")||(v.direction=g>v.currentSlide?"next":"prev",v.flexAnimate(g,v.vars.pauseOnAction))}""===E&&(E=c.type),z.setToClearWatchedEvent()})},setupManual:function(){v.controlNav=v.manualControls,z.controlNav.active(),v.controlNav.bind(T,function(c){if(c.preventDefault(),""===E||E===c.type){var h=a(this),g=v.controlNav.index(h);h.hasClass(w+"active")||(v.direction=g>v.currentSlide?"next":"prev",v.flexAnimate(g,v.vars.pauseOnAction))}""===E&&(E=c.type),z.setToClearWatchedEvent()})},set:function(){var c="thumbnails"===v.vars.controlNav?"img":"a";v.controlNav=a("."+w+"control-nav li "+c,v.controlsContainer?v.controlsContainer:v)},active:function(){v.controlNav.removeClass(w+"active").eq(v.animatingTo).addClass(w+"active")},update:function(c,h){v.pagingCount>1&&"add"===c?v.controlNavScaffold.append(a("<li><a>"+v.count+"</a></li>")):1===v.pagingCount?v.controlNavScaffold.find("li").remove():v.controlNav.eq(h).closest("li").remove(),z.controlNav.set(),v.pagingCount>1&&v.pagingCount!==v.controlNav.length?v.update(h,c):z.controlNav.active()}},directionNav:{setup:function(){var c=a('<ul class="'+w+'direction-nav"><li><a class="'+w+'prev" href="#">'+v.vars.prevText+'</a></li><li><a class="'+w+'next" href="#">'+v.vars.nextText+"</a></li></ul>");v.controlsContainer?(a(v.controlsContainer).append(c),v.directionNav=a("."+w+"direction-nav li a",v.controlsContainer)):(v.append(c),v.directionNav=a("."+w+"direction-nav li a",v)),z.directionNav.update(),v.directionNav.bind(T,function(c){c.preventDefault();var h;(""===E||E===c.type)&&(h=v.getTarget(a(this).hasClass(w+"next")?"next":"prev"),v.flexAnimate(h,v.vars.pauseOnAction)),""===E&&(E=c.type),z.setToClearWatchedEvent()})},update:function(){var a=w+"disabled";1===v.pagingCount?v.directionNav.addClass(a).attr("tabindex","-1"):v.vars.animationLoop?v.directionNav.removeClass(a).removeAttr("tabindex"):0===v.animatingTo?v.directionNav.removeClass(a).filter("."+w+"prev").addClass(a).attr("tabindex","-1"):v.animatingTo===v.last?v.directionNav.removeClass(a).filter("."+w+"next").addClass(a).attr("tabindex","-1"):v.directionNav.removeClass(a).removeAttr("tabindex")}},pausePlay:{setup:function(){var c=a('<div class="'+w+'pauseplay"><a></a></div>');v.controlsContainer?(v.controlsContainer.append(c),v.pausePlay=a("."+w+"pauseplay a",v.controlsContainer)):(v.append(c),v.pausePlay=a("."+w+"pauseplay a",v)),z.pausePlay.update(v.vars.slideshow?w+"pause":w+"play"),v.pausePlay.bind(T,function(c){c.preventDefault(),(""===E||E===c.type)&&(a(this).hasClass(w+"pause")?(v.manualPause=!0,v.manualPlay=!1,v.pause()):(v.manualPause=!1,v.manualPlay=!0,v.play())),""===E&&(E=c.type),z.setToClearWatchedEvent()})},update:function(a){"play"===a?v.pausePlay.removeClass(w+"pause").addClass(w+"play").html(v.vars.playText):v.pausePlay.removeClass(w+"play").addClass(w+"pause").html(v.vars.pauseText)}},touch:function(){function a(e){v.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(v.pause(),D=C?v.h:v.w,M=Number(new Date),I=e.touches[0].pageX,$=e.touches[0].pageY,z=k&&S&&v.animatingTo===v.last?0:k&&S?v.limit-(v.itemW+v.vars.itemMargin)*v.move*v.animatingTo:k&&v.currentSlide===v.last?v.limit:k?(v.itemW+v.vars.itemMargin)*v.move*v.currentSlide:S?(v.last-v.currentSlide+v.cloneOffset)*D:(v.currentSlide+v.cloneOffset)*D,E=C?$:I,P=C?I:$,c.addEventListener("touchmove",h,!1),c.addEventListener("touchend",g,!1))}function h(e){I=e.touches[0].pageX,$=e.touches[0].pageY,N=C?E-$:E-I,L=C?Math.abs(N)<Math.abs(I-P):Math.abs(N)<Math.abs($-P);var a=500;(!L||Number(new Date)-M>a)&&(e.preventDefault(),!A&&v.transitions&&(v.vars.animationLoop||(N/=0===v.currentSlide&&0>N||v.currentSlide===v.last&&N>0?Math.abs(N)/D+2:1),v.setProps(z+N,"setTouch")))}function g(){if(c.removeEventListener("touchmove",h,!1),v.animatingTo===v.currentSlide&&!L&&null!==N){var a=S?-N:N,w=v.getTarget(a>0?"next":"prev");v.canAdvance(w)&&(Number(new Date)-M<550&&Math.abs(a)>50||Math.abs(a)>D/2)?v.flexAnimate(w,v.vars.pauseOnAction):A||v.flexAnimate(v.currentSlide,v.vars.pauseOnAction,!0)}c.removeEventListener("touchend",g,!1),E=null,P=null,N=null,z=null}function w(e){e.stopPropagation(),v.animating?e.preventDefault():(v.pause(),c._gesture.addPointer(e.pointerId),_=0,D=C?v.h:v.w,M=Number(new Date),z=k&&S&&v.animatingTo===v.last?0:k&&S?v.limit-(v.itemW+v.vars.itemMargin)*v.move*v.animatingTo:k&&v.currentSlide===v.last?v.limit:k?(v.itemW+v.vars.itemMargin)*v.move*v.currentSlide:S?(v.last-v.currentSlide+v.cloneOffset)*D:(v.currentSlide+v.cloneOffset)*D)}function b(e){e.stopPropagation();var a=e.target._slider;if(a){var h=-e.translationX,v=-e.translationY;return _+=C?v:h,N=_,L=C?Math.abs(_)<Math.abs(-h):Math.abs(_)<Math.abs(-v),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){c._gesture.stop()}):void((!L||Number(new Date)-M>500)&&(e.preventDefault(),!A&&a.transitions&&(a.vars.animationLoop||(N=_/(0===a.currentSlide&&0>_||a.currentSlide===a.last&&_>0?Math.abs(_)/D+2:1)),a.setProps(z+N,"setTouch"))))}}function T(e){e.stopPropagation();var a=e.target._slider;if(a){if(a.animatingTo===a.currentSlide&&!L&&null!==N){var c=S?-N:N,h=a.getTarget(c>0?"next":"prev");a.canAdvance(h)&&(Number(new Date)-M<550&&Math.abs(c)>50||Math.abs(c)>D/2)?a.flexAnimate(h,a.vars.pauseOnAction):A||a.flexAnimate(a.currentSlide,a.vars.pauseOnAction,!0)}E=null,P=null,N=null,z=null,_=0}}var E,P,z,D,N,M,L=!1,I=0,$=0,_=0;y?(c.style.msTouchAction="none",c._gesture=new MSGesture,c._gesture.target=c,c.addEventListener("MSPointerDown",w,!1),c._slider=v,c.addEventListener("MSGestureChange",b,!1),c.addEventListener("MSGestureEnd",T,!1)):c.addEventListener("touchstart",a,!1)},resize:function(){!v.animating&&v.is(":visible")&&(k||v.doMath(),A?z.smoothHeight():k?(v.slides.width(v.computedW),v.update(v.pagingCount),v.setProps()):C?(v.viewport.height(v.h),v.setProps(v.h,"setTotal")):(v.vars.smoothHeight&&z.smoothHeight(),v.newSlides.width(v.computedW),v.setProps(v.computedW,"setTotal")))},smoothHeight:function(a){if(!C||A){var c=A?v:v.viewport;a?c.animate({height:v.slides.eq(v.animatingTo).height()},a):c.height(v.slides.eq(v.animatingTo).height())}},sync:function(c){var h=a(v.vars.sync).data("flexslider"),g=v.animatingTo;switch(c){case"animate":h.flexAnimate(g,v.vars.pauseOnAction,!1,!0);break;case"play":h.playing||h.asNav||h.play();break;case"pause":h.pause()}},uniqueID:function(c){return c.filter("[id]").add(c.find("[id]")).each(function(){var c=a(this);c.attr("id",c.attr("id")+"_clone")}),c},pauseInvisible:{visProp:null,init:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var i=0;i<a.length;i++)a[i]+"Hidden"in document&&(z.pauseInvisible.visProp=a[i]+"Hidden");if(z.pauseInvisible.visProp){var c=z.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(c,function(){z.pauseInvisible.isHidden()?v.startTimeout?clearTimeout(v.startTimeout):v.pause():v.started?v.play():v.vars.initDelay>0?setTimeout(v.play,v.vars.initDelay):v.play()})}},isHidden:function(){return document[z.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(g),g=setTimeout(function(){E=""},3e3)}},v.flexAnimate=function(c,h,g,y,T){if(v.vars.animationLoop||c===v.currentSlide||(v.direction=c>v.currentSlide?"next":"prev"),P&&1===v.pagingCount&&(v.direction=v.currentItem<c?"next":"prev"),!v.animating&&(v.canAdvance(c,T)||g)&&v.is(":visible")){if(P&&y){var E=a(v.vars.asNavFor).data("flexslider");if(v.atEnd=0===c||c===v.count-1,E.flexAnimate(c,!0,!1,!0,T),v.direction=v.currentItem<c?"next":"prev",E.direction=v.direction,Math.ceil((c+1)/v.visible)-1===v.currentSlide||0===c)return v.currentItem=c,v.slides.removeClass(w+"active-slide").eq(c).addClass(w+"active-slide"),!1;v.currentItem=c,v.slides.removeClass(w+"active-slide").eq(c).addClass(w+"active-slide"),c=Math.floor(c/v.visible)}if(v.animating=!0,v.animatingTo=c,h&&v.pause(),v.vars.before(v),v.syncExists&&!T&&z.sync("animate"),v.vars.controlNav&&z.controlNav.active(),k||v.slides.removeClass(w+"active-slide").eq(c).addClass(w+"active-slide"),v.atEnd=0===c||c===v.last,v.vars.directionNav&&z.directionNav.update(),c===v.last&&(v.vars.end(v),v.vars.animationLoop||v.pause()),A)b?(v.slides.eq(v.currentSlide).css({opacity:0,zIndex:1}),v.slides.eq(c).css({opacity:1,zIndex:2}),v.wrapup(L)):(v.slides.eq(v.currentSlide).css({zIndex:1}).animate({opacity:0},v.vars.animationSpeed,v.vars.easing),v.slides.eq(c).css({zIndex:2}).animate({opacity:1},v.vars.animationSpeed,v.vars.easing,v.wrapup));else{var D,N,M,L=C?v.slides.filter(":first").height():v.computedW;k?(D=v.vars.itemMargin,M=(v.itemW+D)*v.move*v.animatingTo,N=M>v.limit&&1!==v.visible?v.limit:M):N=0===v.currentSlide&&c===v.count-1&&v.vars.animationLoop&&"next"!==v.direction?S?(v.count+v.cloneOffset)*L:0:v.currentSlide===v.last&&0===c&&v.vars.animationLoop&&"prev"!==v.direction?S?0:(v.count+1)*L:S?(v.count-1-c+v.cloneOffset)*L:(c+v.cloneOffset)*L,v.setProps(N,"",v.vars.animationSpeed),v.transitions?(v.vars.animationLoop&&v.atEnd||(v.animating=!1,v.currentSlide=v.animatingTo),v.container.unbind("webkitTransitionEnd transitionend"),v.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(v.ensureAnimationEnd),v.wrapup(L)}),clearTimeout(v.ensureAnimationEnd),v.ensureAnimationEnd=setTimeout(function(){v.wrapup(L)},v.vars.animationSpeed+100)):v.container.animate(v.args,v.vars.animationSpeed,v.vars.easing,function(){v.wrapup(L)})}v.vars.smoothHeight&&z.smoothHeight(v.vars.animationSpeed)}},v.wrapup=function(a){A||k||(0===v.currentSlide&&v.animatingTo===v.last&&v.vars.animationLoop?v.setProps(a,"jumpEnd"):v.currentSlide===v.last&&0===v.animatingTo&&v.vars.animationLoop&&v.setProps(a,"jumpStart")),v.animating=!1,v.currentSlide=v.animatingTo,v.vars.after(v)},v.animateSlides=function(){!v.animating&&D&&v.flexAnimate(v.getTarget("next"))},v.pause=function(){clearInterval(v.animatedSlides),v.animatedSlides=null,v.playing=!1,v.vars.pausePlay&&z.pausePlay.update("play"),v.syncExists&&z.sync("pause")},v.play=function(){v.playing&&clearInterval(v.animatedSlides),v.animatedSlides=v.animatedSlides||setInterval(v.animateSlides,v.vars.slideshowSpeed),v.started=v.playing=!0,v.vars.pausePlay&&z.pausePlay.update("pause"),v.syncExists&&z.sync("play")},v.stop=function(){v.pause(),v.stopped=!0},v.canAdvance=function(a,c){var h=P?v.pagingCount-1:v.last;return c?!0:P&&v.currentItem===v.count-1&&0===a&&"prev"===v.direction?!0:P&&0===v.currentItem&&a===v.pagingCount-1&&"next"!==v.direction?!1:a!==v.currentSlide||P?v.vars.animationLoop?!0:v.atEnd&&0===v.currentSlide&&a===h&&"next"!==v.direction?!1:v.atEnd&&v.currentSlide===h&&0===a&&"next"===v.direction?!1:!0:!1
},v.getTarget=function(a){return v.direction=a,"next"===a?v.currentSlide===v.last?0:v.currentSlide+1:0===v.currentSlide?v.last:v.currentSlide-1},v.setProps=function(a,c,h){var g=function(){var h=a?a:(v.itemW+v.vars.itemMargin)*v.move*v.animatingTo,g=function(){if(k)return"setTouch"===c?a:S&&v.animatingTo===v.last?0:S?v.limit-(v.itemW+v.vars.itemMargin)*v.move*v.animatingTo:v.animatingTo===v.last?v.limit:h;switch(c){case"setTotal":return S?(v.count-1-v.currentSlide+v.cloneOffset)*a:(v.currentSlide+v.cloneOffset)*a;case"setTouch":return S?a:a;case"jumpEnd":return S?a:v.count*a;case"jumpStart":return S?v.count*a:a;default:return a}}();return-1*g+"px"}();v.transitions&&(g=C?"translate3d(0,"+g+",0)":"translate3d("+g+",0,0)",h=void 0!==h?h/1e3+"s":"0s",v.container.css("-"+v.pfx+"-transition-duration",h),v.container.css("transition-duration",h)),v.args[v.prop]=g,(v.transitions||void 0===h)&&v.container.css(v.args),v.container.css("transform",g)},v.setup=function(c){if(A)v.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===c&&(b?v.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+v.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(v.currentSlide).css({opacity:1,zIndex:2}):0==v.vars.fadeFirstSlide?v.slides.css({opacity:0,display:"block",zIndex:1}).eq(v.currentSlide).css({zIndex:2}).css({opacity:1}):v.slides.css({opacity:0,display:"block",zIndex:1}).eq(v.currentSlide).css({zIndex:2}).animate({opacity:1},v.vars.animationSpeed,v.vars.easing)),v.vars.smoothHeight&&z.smoothHeight();else{var h,g;"init"===c&&(v.viewport=a('<div class="'+w+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(v).append(v.container),v.cloneCount=0,v.cloneOffset=0,S&&(g=a.makeArray(v.slides).reverse(),v.slides=a(g),v.container.empty().append(v.slides))),v.vars.animationLoop&&!k&&(v.cloneCount=2,v.cloneOffset=1,"init"!==c&&v.container.find(".clone").remove(),v.container.append(z.uniqueID(v.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(z.uniqueID(v.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),v.newSlides=a(v.vars.selector,v),h=S?v.count-1-v.currentSlide+v.cloneOffset:v.currentSlide+v.cloneOffset,C&&!k?(v.container.height(200*(v.count+v.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){v.newSlides.css({display:"block"}),v.doMath(),v.viewport.height(v.h),v.setProps(h*v.h,"init")},"init"===c?100:0)):(v.container.width(200*(v.count+v.cloneCount)+"%"),v.setProps(h*v.computedW,"init"),setTimeout(function(){v.doMath(),v.newSlides.css({width:v.computedW,"float":"left",display:"block"}),v.vars.smoothHeight&&z.smoothHeight()},"init"===c?100:0))}k||v.slides.removeClass(w+"active-slide").eq(v.currentSlide).addClass(w+"active-slide"),v.vars.init(v)},v.doMath=function(){var a=v.slides.first(),c=v.vars.itemMargin,h=v.vars.minItems,g=v.vars.maxItems;v.w=void 0===v.viewport?v.width():v.viewport.width(),v.h=a.height(),v.boxPadding=a.outerWidth()-a.width(),k?(v.itemT=v.vars.itemWidth+c,v.minW=h?h*v.itemT:v.w,v.maxW=g?g*v.itemT-c:v.w,v.itemW=v.minW>v.w?(v.w-c*(h-1))/h:v.maxW<v.w?(v.w-c*(g-1))/g:v.vars.itemWidth>v.w?v.w:v.vars.itemWidth,v.visible=Math.floor(v.w/v.itemW),v.move=v.vars.move>0&&v.vars.move<v.visible?v.vars.move:v.visible,v.pagingCount=Math.ceil((v.count-v.visible)/v.move+1),v.last=v.pagingCount-1,v.limit=1===v.pagingCount?0:v.vars.itemWidth>v.w?v.itemW*(v.count-1)+c*(v.count-1):(v.itemW+c)*v.count-v.w-c):(v.itemW=v.w,v.pagingCount=v.count,v.last=v.count-1),v.computedW=v.itemW-v.boxPadding},v.update=function(a,c){v.doMath(),k||(a<v.currentSlide?v.currentSlide+=1:a<=v.currentSlide&&0!==a&&(v.currentSlide-=1),v.animatingTo=v.currentSlide),v.vars.controlNav&&!v.manualControls&&("add"===c&&!k||v.pagingCount>v.controlNav.length?z.controlNav.update("add"):("remove"===c&&!k||v.pagingCount<v.controlNav.length)&&(k&&v.currentSlide>v.last&&(v.currentSlide-=1,v.animatingTo-=1),z.controlNav.update("remove",v.last))),v.vars.directionNav&&z.directionNav.update()},v.addSlide=function(c,h){var g=a(c);v.count+=1,v.last=v.count-1,C&&S?void 0!==h?v.slides.eq(v.count-h).after(g):v.container.prepend(g):void 0!==h?v.slides.eq(h).before(g):v.container.append(g),v.update(h,"add"),v.slides=a(v.vars.selector+":not(.clone)",v),v.setup(),v.vars.added(v)},v.removeSlide=function(c){var h=isNaN(c)?v.slides.index(a(c)):c;v.count-=1,v.last=v.count-1,isNaN(c)?a(c,v.slides).remove():C&&S?v.slides.eq(v.last).remove():v.slides.eq(c).remove(),v.doMath(),v.update(h,"remove"),v.slides=a(v.vars.selector+":not(.clone)",v),v.setup(),v.vars.removed(v)},z.init()},a(window).blur(function(){focused=!1}).focus(function(){focused=!0}),a.flexslider.defaults={namespace:"am-",selector:".am-slides > li",animation:"slide",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:5e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},a.fn.flexslider=function(c){if(void 0===c&&(c={}),"object"==typeof c)return this.each(function(){var h=a(this),v=c.selector?c.selector:".am-slides > li",g=h.find(v);1===g.length&&c.allowOneSlide===!0||0===g.length?(g.animate({opacity:1},400),c.start&&c.start(h)):void 0===h.data("flexslider")&&new a.flexslider(this,c)});var h=a(this).data("flexslider");switch(c){case"play":h.play();break;case"pause":h.pause();break;case"stop":h.stop();break;case"next":h.flexAnimate(h.getTarget("next"),!0);break;case"prev":case"previous":h.flexAnimate(h.getTarget("prev"),!0);break;default:"number"==typeof c&&h.flexAnimate(c,!0)}}}),define("zepto.pinchzoom",[],function(require,exports,module){"use strict";var a=function(a){var c=function(c,h){this.el=a(c),this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.options=a.extend({},this.defaults,h),this.setupMarkup(),this.bindEvents(),this.update(),this.enable()},h=function(a,c){return a+c},v=function(a,c){return a>c-.01&&c+.01>a};c.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,animationInterval:5,maxZoom:5,minZoom:.5,lockDragAxis:!1,use2d:!1,zoomStartEventName:"pz_zoomstart",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap"},handleDragStart:function(a){this.el.trigger(this.options.dragStartEventName),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(a)},handleDrag:function(a){if(this.zoomFactor>1){var c=this.getTouches(a)[0];this.drag(c,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=c}},handleDragEnd:function(){this.el.trigger(this.options.dragEndEventName),this.end()},handleZoomStart:function(){this.el.trigger(this.options.zoomStartEventName),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(a,c){var h=this.getTouchCenter(this.getTouches(a)),v=c/this.lastScale;this.lastScale=c,this.nthZoom+=1,this.nthZoom>3&&(this.scale(v,h),this.drag(h,this.lastZoomCenter)),this.lastZoomCenter=h},handleZoomEnd:function(){this.el.trigger(this.options.zoomEndEventName),this.end()},handleDoubleTap:function(a){var c=this.getTouches(a)[0],h=this.zoomFactor>1?1:this.options.tapZoomFactor,v=this.zoomFactor,g=function(a){this.scaleTo(v+a*(h-v),c)}.bind(this);this.hasInteraction||(v>h&&(c=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,this.options.animationInterval,g,this.swing),this.el.trigger(this.options.doubleTapEventName))},sanitizeOffset:function(a){var c=(this.zoomFactor-1)*this.getContainerX(),h=(this.zoomFactor-1)*this.getContainerY(),v=Math.max(c,0),g=Math.max(h,0),w=Math.min(c,0),y=Math.min(h,0);return{x:Math.min(Math.max(a.x,w),v),y:Math.min(Math.max(a.y,y),g)}},scaleTo:function(a,c){this.scale(a/this.zoomFactor,c)},scale:function(a,c){a=this.scaleZoomFactor(a),this.addOffset({x:(a-1)*(c.x+this.offset.x),y:(a-1)*(c.y+this.offset.y)})},scaleZoomFactor:function(a){var c=this.zoomFactor;return this.zoomFactor*=a,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/c},drag:function(a,c){c&&this.addOffset(this.options.lockDragAxis?Math.abs(a.x-c.x)>Math.abs(a.y-c.y)?{x:-(a.x-c.x),y:0}:{y:-(a.y-c.y),x:0}:{y:-(a.y-c.y),x:-(a.x-c.x)})},getTouchCenter:function(a){return this.getVectorAvg(a)},getVectorAvg:function(a){return{x:a.map(function(a){return a.x}).reduce(h)/a.length,y:a.map(function(a){return a.y}).reduce(h)/a.length}},addOffset:function(a){this.offset={x:this.offset.x+a.x,y:this.offset.y+a.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(a){var c=this.sanitizeOffset(a);return c.x!==a.x||c.y!==a.y},sanitizeOffsetAnimation:function(){var a=this.sanitizeOffset(this.offset),c={x:this.offset.x,y:this.offset.y},h=function(h){this.offset.x=c.x+h*(a.x-c.x),this.offset.y=c.y+h*(a.y-c.y),this.update()}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,h,this.swing)},zoomOutAnimation:function(){var a=this.zoomFactor,c=1,h=this.getCurrentZoomCenter(),v=function(v){this.scaleTo(a+v*(c-a),h)}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,v,this.swing)},updateAspectRatio:function(){this.setContainerY()},getInitialZoomFactor:function(){return this.container[0].offsetWidth/this.el[0].offsetWidth},getAspectRatio:function(){return this.el[0].offsetWidth/this.el[0].offsetHeight},getCurrentZoomCenter:function(){var a=this.container[0].offsetWidth*this.zoomFactor,c=this.offset.x,h=a-c-this.container[0].offsetWidth,v=c/h,g=v*this.container[0].offsetWidth/(v+1),w=this.container[0].offsetHeight*this.zoomFactor,y=this.offset.y,b=w-y-this.container[0].offsetHeight,T=y/b,E=T*this.container[0].offsetHeight/(T+1);return 0===h&&(g=this.container[0].offsetWidth),0===b&&(E=this.container[0].offsetHeight),{x:g,y:E}},canDrag:function(){return!v(this.zoomFactor,1)},getTouches:function(a){var c=this.container.offset();return Array.prototype.slice.call(a.touches).map(function(a){return{x:a.pageX-c.left,y:a.pageY-c.top}})},animate:function(a,c,h,v,g){var w=(new Date).getTime(),y=function(){if(this.inAnimation){var b=(new Date).getTime()-w,T=b/a;b>=a?(h(1),g&&g(),this.update(),this.stopAnimation(),this.update()):(v&&(T=v(T)),h(T),this.update(),setTimeout(y,c))}}.bind(this);this.inAnimation=!0,y()},stopAnimation:function(){this.inAnimation=!1},swing:function(p){return-Math.cos(p*Math.PI)/2+.5},getContainerX:function(){return window.innerWidth},getContainerY:function(){return window.innerHeight},setContainerY:function(){var t=window.innerHeight;return this.el.css({height:t}),this.container.height(t)},setupMarkup:function(){this.container=a('<div class="pinch-zoom-container"></div>'),this.el.before(this.container),this.container.append(this.el),this.container.css({overflow:"hidden",position:"relative"}),this.el.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",position:"absolute"})},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){g(this.container.get(0),this),a(window).on("resize",this.update.bind(this)),a(this.el).find("img").on("load",this.update.bind(this))},update:function(){this.updatePlaned||(this.updatePlaned=!0,setTimeout(function(){this.updatePlaned=!1,this.updateAspectRatio();var a=this.getInitialZoomFactor()*this.zoomFactor,c=-this.offset.x/a,h=-this.offset.y/a,v="scale3d("+a+", "+a+",1) translate3d("+c+"px,"+h+"px,0px)",g="scale("+a+", "+a+") translate("+c+"px,"+h+"px)",w=function(){this.clone&&(this.clone.remove(),delete this.clone)}.bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,w(),this.el.css({"-webkit-transform":v,"-o-transform":g,"-ms-transform":g,"-moz-transform":g,transform:v})):(this.is3d&&(this.clone=this.el.clone(),this.clone.css("pointer-events","none"),this.clone.appendTo(this.container),setTimeout(w,200)),this.el.css({"-webkit-transform":g,"-o-transform":g,"-ms-transform":g,"-moz-transform":g,transform:g}),this.is3d=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}};var g=function(a,c){var h=null,v=0,g=null,w=null,y=function(a,v){if(h!==a){if(h&&!a)switch(h){case"zoom":c.handleZoomEnd(v);break;case"drag":c.handleDragEnd(v)}switch(a){case"zoom":c.handleZoomStart(v);break;case"drag":c.handleDragStart(v)}}h=a},b=function(a){2===v?y("zoom"):1===v&&c.canDrag()?y("drag",a):y(null,a)},T=function(a){return Array.prototype.slice.call(a).map(function(a){return{x:a.pageX,y:a.pageY}})},E=function(a,c){var x,h;return x=a.x-c.x,h=a.y-c.y,Math.sqrt(x*x+h*h)},C=function(a,c){var h=E(a[0],a[1]),v=E(c[0],c[1]);return v/h},S=function(a){a.stopPropagation(),a.preventDefault()},k=function(a){var w=(new Date).getTime();if(v>1&&(g=null),300>w-g)switch(S(a),c.handleDoubleTap(a),h){case"zoom":c.handleZoomEnd(a);break;case"drag":c.handleDragEnd(a)}1===v&&(g=w)},A=!0;a.addEventListener("touchstart",function(a){c.enabled&&(A=!0,v=a.touches.length,k(a))}),a.addEventListener("touchmove",function(a){if(c.enabled){if(A)b(a),h&&S(a),w=T(a.touches);else{switch(h){case"zoom":c.handleZoom(a,C(w,T(a.touches)));break;case"drag":c.handleDrag(a)}h&&(S(a),c.update())}A=!1}}),a.addEventListener("touchend",function(a){c.enabled&&(v=a.touches.length,b(a))})};return c};module.exports=a(window.Zepto)}),define("accordion",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.collapse"],function(require,exports){"use strict";function a(){var a=c('[data-am-widget="accordion"]'),v={item:".am-accordion-item",title:".am-accordion-title",content:".am-accordion-content"};a.each(function(i,a){var g=h.utils.parseOptions(c(a).attr("data-am-accordion")),w=c(a).find(v.title);w.on("click.accordion.amui",function(){var h=c(this).next(v.content),w=c(this).parent(v.item),y=h.data("amui.collapse");w.toggleClass("am-active"),y?h.collapse("toggle"):h.collapse(),!g.multiple&&c(a).children(".am-active").not(w).removeClass("am-active").find(".am-accordion-content.am-in").collapse("close")})})}require("core"),require("ui.collapse");var c=window.Zepto,h=c.AMUI;c(function(){a()}),exports.init=a}),define("divider",[],function(){}),define("duoshuo",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports){"use strict";function a(){var a=c(".ds-thread"),h=a.parent('[data-am-widget="duoshuo"]').attr("data-ds-short-name"),v=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js";if(a.length&&h&&(window.duoshuoQuery={short_name:h},!c('script[src="'+v+'"]').length)){var g=c("<script>",{async:!0,type:"text/javascript",src:v,charset:"utf-8"});c("body").append(g)}}require("core");var c=window.Zepto;c(window).on("load",a),exports.init=a}),define("figure",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.pureview","zepto.pinchzoom","util.hammer"],function(require,exports){"use strict";function a(){c(".am-figure").each(function(i,a){var v=h.utils.parseOptions(c(a).attr("data-am-figure"));if(v.pureview)c(a).addClass("am-figure-zoomable").pureview();else if(v.autoZoom){var g=c.isImgZoomAble(c(a).find("img")[0]);g&&c(a).pureview()}})}require("core"),require("ui.pureview");var c=window.Zepto,h=c.AMUI;c.isImgZoomAble=function(a){var t=new Image;t.src=a.src;var h=c(a).width()<t.width;return h&&c(a).closest(".am-figure").addClass("am-figure-zoomable"),h},c(window).on("load",function(){a()}),exports.init=a}),define("footer",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.modal","ui.dimmer","ui.add2home","util.cookie"],function(require,exports){"use strict";function a(){v(".am-footer-ysp").on("click",function(){v("#am-footer-mode").modal()}),!window.AMUI_NO_ADD2HS&&c(),v('[data-rel="desktop"]').on("click",function(e){e.preventDefault(),window.AMPlatform?window.AMPlatform.util.goDesktop():(h.set("allmobilize","desktop","","/"),window.location=window.location)})}require("core"),require("ui.modal");var c=require("ui.add2home"),h=require("util.cookie"),v=window.Zepto;v(window).on("load",function(){a()}),exports.init=a}),define("gallery",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.pureview","zepto.pinchzoom","util.hammer"],function(require,exports){"use strict";function a(){var a=h('[data-am-widget="gallery"]'),g=a.filter(".am-gallery-one");a.each(function(){var a=v.utils.parseOptions(h(this).attr("data-am-gallery"));a.pureview&&("object"==typeof a.pureview?h(this).pureview(a.pureview):h(this).pureview())}),g.each(function(){c(h(this))})}function c(a){var c=h("<li class='am-gallery-more'><a href=\"javascript:;\">更多 &gt;&gt;</a></li>");a.children().length>6&&(a.children().each(function(a){a>5&&h(this).hide()}),a.find(".am-gallery-more").remove(),a.append(c)),a.find(".am-gallery-more").on("click",function(){a.children().show(),h(this).hide()})}require("core"),require("ui.pureview");var h=window.Zepto,v=h.AMUI;h(function(){a()}),exports.init=a}),define("gotop",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.smooth-scroll"],function(require,exports){"use strict";function a(){function a(){v[(g.scrollTop()>50?"add":"remove")+"Class"]("am-active")}var h=c('[data-am-widget="gotop"]'),v=h.filter(".am-gotop-fixed"),g=c(window);h.find("a").on("click",function(e){e.preventDefault(),g.smoothScroll()}),a(),g.on("scroll.gotop.amui",c.AMUI.utils.debounce(a,100))}require("core"),require("ui.smooth-scroll");var c=window.Zepto;c(function(){a()}),exports.init=a}),define("header",[],function(require,exports){"use strict";function a(){c('[data-am-widget="header"]').each(function(){return c(this).hasClass("am-header-fixed")?(c("body").addClass("am-with-fixed-header"),!1):void 0})}var c=window.Zepto;c(function(){a()}),exports.init=a}),define("intro",[],function(){"use strict"}),define("list_news",[],function(require,exports){"use strict";function a(){h(".am-list-news-one").each(function(){c(h(this))})}function c(a){var c=a.find(".am-list"),v='<a class="am-list-news-more am-btn am-btn-default" href="javascript:;">更多 &gt;&gt;</a>';c.children().length>6&&(c.children().each(function(a){a>5&&h(this).hide()}),a.find(".am-list-news-more").remove(),a.append(v)),a.find(".am-list-news-more").on("click",function(){c.children().show(),h(this).hide()})}var h=window.Zepto;h(function(){a()}),exports.init=a}),define("map",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,exports){function a(a){var c=h("<script/>",{src:"http://api.map.baidu.com/getscript?type=quick&file=api&ak=WVAXZ05oyNRXS5egLImmentg&t=20140109092002"});h("body").append(c),c.on("load",function(){var c=h("<script/>",{src:"http://api.map.baidu.com/getscript?type=quick&file=feature&ak=WVAXZ05oyNRXS5egLImmentg&t=20140109092002"});h("body").append(c),c.on("load",function(){var c=document.createElement("script");c.textContent="("+a.toString()+")();",h("body")[0].appendChild(c)})})}function c(){var a=document.querySelector(".am-map"),c=116.331398,h=39.897445,v=a.getAttribute("data-name"),g=a.getAttribute("data-address"),w=a.getAttribute("data-longitude")||c,y=a.getAttribute("data-latitude")||h,b=new BMap.Map("bd-map"),T=new BMap.Point(w,y);b.centerAndZoom(T,18),b.addControl(new BMap.ZoomControl);var E={width:200,title:v},C=new BMap.InfoWindow("地址："+g,E),S=new BMap.Geocoder;w==c&&y==h?S.getPoint(g,function(a){a&&(b.centerAndZoom(a,17),b.addOverlay(new BMap.Marker(a)),b.openInfoWindow(C,a))},""):S.getLocation(T,function(){b.centerAndZoom(T,17),b.addOverlay(new BMap.Marker(T)),g?b.openInfoWindow(C,T):b.openInfoWindow(new BMap.InfoWindow(g,E),T)})}require("core");var h=window.Zepto,v=function(){h(".am-map").length&&a(c)};h(document).on("ready",v),exports.init=v}),define("mechat",[],function(require,exports){"use strict";function a(){if(c("#mechat").length){var a=c('[data-am-widget="mechat"]'),h=a.data("am-mechat-unitid"),v=c("<script>",{charset:"utf-8",src:"http://mechatim.com/js/unit/button.js?id="+h});c("body").append(v)}}var c=window.Zepto;c(window).on("load",a),exports.init=a}),define("menu",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.offcanvas","zepto.outerdemension","ui.collapse","ui.iscroll-lite"],function(require,exports){"use strict";require("core"),require("ui.offcanvas"),require("ui.collapse");var a=require("ui.iscroll-lite"),c=window.Zepto,h=function(){var h=c('[data-am-widget="menu"]');h.find(".am-menu-nav .am-parent > a").on("click",function(e){e.preventDefault();var a=c(this),h=a.parent(),v=a.next(".am-menu-sub");h.toggleClass("am-open"),v.collapse("toggle"),h.siblings(".am-parent").removeClass("am-open").children(".am-menu-sub.am-in").collapse("close")}),h.filter("[data-am-menu-collapse]").find("> .am-menu-toggle").on("click",function(e){e.preventDefault();var a=c(this),h=a.next(".am-menu-nav");a.toggleClass("am-active"),h.collapse("toggle")}),h.filter("[data-am-menu-offcanvas]").find("> .am-menu-toggle").on("click",function(e){e.preventDefault();var a=c(this),h=a.next(".am-offcanvas");a.toggleClass("am-active"),h.offCanvas("open")});var v='.am-offcanvas[data-dismiss-on="click"]',g=c(v);g.find("a").not(".am-parent>a").on("click",function(){c(this).parents(v).offCanvas("close")}),h.filter(".am-menu-one").each(function(h){var v,g=c(this),w=c('<div class="am-menu-nav-sub-wrap"></div>'),y=0,b=g.find(".am-menu-nav"),T=b.children("li");T.filter(".am-parent").each(function(a){c(this).attr("data-rel","#am-menu-sub-"+a),c(this).find(".am-menu-sub").attr("id","am-menu-sub-"+a).appendTo(w)}),g.append(w),b.wrap('<div class="am-menu-nav-wrap" id="am-menu-'+h+'">'),T.each(function(){y+=parseFloat(c(this).css("width"))}),b.width(y);var E=new a("#am-menu-"+h,{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1});T.on("click",function(){var a=c(this);a.addClass("am-active").siblings().removeClass("am-active"),w.find(".am-menu-sub.am-in").collapse("close"),a.is(".am-parent")?!a.hasClass(".am-open")&&w.find(a.attr("data-rel")).collapse("open"):a.siblings().removeClass("am-open"),void 0===v&&(v=c(this).index()?0:1);var h,y=c(this).index()>v,T=c(this)[y?"next":"prev"](),C=T.offset()||c(this).offset(),S=g.offset(),k=parseInt(g.css("padding-left"));(y?C.left+C.width>S.left+S.width:C.left<S.left)&&(h=b.offset(),E.scrollTo(y?S.width-C.left+h.left-C.width-k:h.left-C.left,0,400)),v=c(this).index()}),g.on("touchmove",function(a){a.preventDefault()})})};c(function(){h()}),exports.init=h}),define("navbar",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.modal","ui.dimmer","util.qrcode","ui.share"],function(require,exports){"use strict";function a(){function a(){C.append(I),C.find("li").not(".am-navbar-more").slice(y()-1).appendTo(L),b.append(L)}function w(){return y()>=k?(I.hide(),void L.find("li").insertBefore(I)):(!b.find(".am-navbar-actions").length&&a(),I.show(),void(C.find("li").length<y()?L.find("li").slice(0,y()-C.find("li").length).insertBefore(I):C.find("li").length>y()&&(L.find("li").length?C.find("li").not(I).slice(y()-1).insertBefore(L.find("li").first()):C.find("li").not(I).slice(y()-1).appendTo(L))))}function y(){return Math.floor((T.width()-z)/P)}var b=c('[data-am-widget="navbar"]');if(b.length){var T=c(window),E=c("body"),C=b.find(".am-navbar-nav"),S=b.find("li"),k=S.length,A=C.attr("class")&&parseInt(C.attr("class").match(/sm-block-grid-(\d+)/)[1])||3,P=60,z=16,D=S.filter("[data-am-navbar-share]"),N=S.filter("[data-am-navbar-qrcode]"),M="am-active",L=c('<ul class="am-navbar-actions"></ul>',{id:h.utils.generateGUID("am-navbar-actions")}),I=c('<li class="am-navbar-labels am-navbar-more"><a href="javascript: void(0);"><span class="am-icon-angle-up"></span><span class="am-navbar-label">更多</span></a></li>');if("fixed"==b.css("position")&&E.addClass("am-with-fixed-navbar"),N.length){var $="am-navbar-qrcode";if(O=c("#"+$),!O.length){var _=N.attr("data-am-navbar-qrcode"),O=c('<div class="am-modal am-modal-no-btn" id=""><div class="am-modal-dialog"><div class="am-modal-bd"></div></div></div>',{id:$}),F=O.find(".am-modal-bd");if(_)F.html('<img src="'+_+'"/>');else{var R=new v({render:"canvas",correctLevel:0,text:window.location.href,width:200,height:200,background:"#fff",foreground:"#000"});F.html(R)}E.append(O)}N.on("click",function(e){e.preventDefault(),O.modal()})}k>A&&k>y()&&a(),b.on("click.navbar.amui",".am-navbar-more",function(e){e.preventDefault(),I[L.hasClass(M)?"removeClass":"addClass"](M),L.toggleClass(M)}),D.length&&D.on("click.navbar.amui",function(e){e.preventDefault(),g.toggle()}),T.on("resize.navbar.amui orientationchange.navbar.amui",h.utils.debounce(w,150))}}require("core"),require("ui.modal");var c=window.Zepto,h=c.AMUI,v=require("util.qrcode"),g=require("ui.share");c(function(){a()}),exports.init=a}),define("pagination",[],function(){}),define("paragraph",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.pureview","zepto.pinchzoom","util.hammer","ui.iscroll-lite"],function(require,exports){"use strict";function a(){var a=c('[data-am-widget="paragraph"]');a.each(function(a){var v=c(this),g=h.utils.parseOptions(v.attr("data-am-paragraph")),w=a;g.pureview&&v.pureview(),g.tableScrollable&&v.find("table").each(function(a){c(this).width()>c(window).width()&&c(this).scrollTable(w+"-"+a)})})}require("core"),require("ui.pureview");var c=window.Zepto,h=c.AMUI,v=require("ui.iscroll-lite");c.fn.scrollTable=function(a){var h,g=c(this);g.wrap('<div class="am-paragraph-table-container" id="am-paragraph-table-'+a+'"><div class="am-paragraph-table-scroller"></div></div>'),h=g.parent(),h.width(g.width()),h.height(g.height()),new v("#am-paragraph-table-"+a,{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1})},c(window).on("load",function(){a()}),exports.init=a}),define("slider",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","zepto.flexslider"],function(require,exports){"use strict";function a(){var a=c('[data-am-widget="slider"]');a.not(".am-slider-manual").each(function(i,a){var v=h.utils.parseOptions(c(a).attr("data-am-slider"));c(a).flexslider(v)})}require("core"),require("zepto.flexslider");var c=window.Zepto,h=c.AMUI;c(document).on("ready",a),exports.init=a}),define("sohucs",[],function(require,exports){"use strict";function a(){if(c("#SOHUCS").length){var a=c('[data-am-widget="sohucs"]'),h=a.attr("data-am-sohucs-appid"),v=a.attr("data-am-sohucs-conf"),g=c("<script></script>",{charset:"utf-8",id:"changyan_mobile_js",src:"http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id="+h+"&conf="+v});c("body").append(g)}}var c=window.Zepto;c(window).on("load",a),exports.init=a}),define("tabs",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.tabs","util.hammer"],function(require,exports){"use strict";function a(){c('[data-am-widget="tabs"]').tabs()}require("core"),require("ui.tabs");var c=window.Zepto;c(function(){a()}),exports.init=a}),define("titlebar",[],function(){}),seajs.use(["core","util.fastclick","util.hammer","zepto.outerdemension","zepto.extend.data","zepto.extend.fx","zepto.extend.selector","ui.add2home","ui.alert","ui.button","ui.collapse","ui.dimmer","ui.dropdown","ui.iscroll-lite","ui.modal","ui.offcanvas","ui.popover","ui.progress","ui.pureview","ui.scrollspy","ui.scrollspynav","ui.share","ui.smooth-scroll","ui.sticky","ui.tabs","util.cookie","util.fullscreen","util.qrcode","zepto.flexslider","zepto.pinchzoom","accordion","divider","duoshuo","figure","footer","gallery","gotop","header","intro","list_news","map","mechat","menu","navbar","pagination","paragraph","slider","sohucs","tabs","titlebar"]);